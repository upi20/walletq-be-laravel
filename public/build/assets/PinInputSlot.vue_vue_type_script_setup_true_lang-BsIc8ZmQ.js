import{u as K,V as G,a as Q,c as U,b as W,g as J,d as X,e as T}from"./index-BvyEMlMi.js";import{P as D,c as N}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-F-wYkqGn.js";import{u as Y,a as Z,r as R}from"./useForwardExpose-COWusByl.js";import{d as V,c,H as j,h,o as m,v as q,a as H,b as ee,F as O,j as te,Q as ae,z as le,w as x,r as A,i as re,g as u,K as ne,P as ue,R as S,M as se}from"./app-gpw7Yk5k.js";var oe=V({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(d){const e=d,{primitiveElement:a,currentElement:n}=K(),r=c(()=>e.checked??e.value);return j(r,(s,i)=>{if(!n.value)return;const f=n.value,g=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(g,"value").set;if(P&&s!==i){const b=new Event("input",{bubbles:!0}),v=new Event("change",{bubbles:!0});P.call(f,s),f.dispatchEvent(b),f.dispatchEvent(v)}}),(s,i)=>(m(),h(G,q({ref_key:"primitiveElement",ref:a},{...e,...s.$attrs},{as:"input"}),null,16))}}),z=oe,ie=V({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(d){const e=d,a=c(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),n=c(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((r,s)=>typeof r=="object"?Object.entries(r).map(([i,f])=>({name:`${e.name}[${s}][${i}]`,value:f})):{name:`${e.name}[${s}]`,value:r}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([r,s])=>({name:`${e.name}[${r}]`,value:s})):[]);return(r,s)=>(m(),H(O,null,[ee(" We render single input if it's required "),a.value?(m(),h(z,q({key:r.name},{...e,...r.$attrs},{name:r.name,value:r.value}),null,16,["name","value"])):(m(!0),H(O,{key:1},te(n.value,i=>(m(),h(z,q({key:i.name},{ref_for:!0},{...e,...r.$attrs},{name:i.name,value:i.value}),null,16,["name","value"]))),128))],2112))}}),de=ie;const[pe,ce]=U("PinInputRoot");var fe=V({inheritAttrs:!1,__name:"PinInputRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:Array,required:!1},placeholder:{type:String,required:!1,default:""},mask:{type:Boolean,required:!1},otp:{type:Boolean,required:!1},type:{type:null,required:!1,default:"text"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","complete"],setup(d,{emit:e}){const a=d,n=e,{mask:r,otp:s,placeholder:i,type:f,disabled:g,dir:B}=ae(a),{forwardRef:P}=Y(),b=Q(B),v=Z(a,"modelValue",n,{defaultValue:a.defaultValue??[],passive:a.modelValue===void 0}),E=c(()=>Array.isArray(v.value)?[...v.value]:[]),w=le(new Set);function C(p){w.value.add(p)}const k=c(()=>a.type==="number"),I=c(()=>E.value.filter(_=>!!_||k.value&&_===0).length===w.value.size);return j(v,()=>{I.value&&n("complete",v.value)},{deep:!0}),ce({modelValue:v,currentModelValue:E,mask:r,otp:s,placeholder:i,type:f,dir:b,disabled:g,isCompleted:I,inputElements:w,onInputElementChange:C,isNumericMode:k}),(p,_)=>(m(),h(u(D),q(p.$attrs,{ref:u(P),dir:u(b),"data-complete":I.value?"":void 0,"data-disabled":u(g)?"":void 0}),{default:x(()=>[A(p.$slots,"default",{modelValue:u(v)}),re(de,{id:p.id,as:"input",feature:"focusable",tabindex:"-1",value:E.value.join(""),name:p.name??"",disabled:u(g),required:p.required,onFocus:_[0]||(_[0]=M=>Array.from(w.value)?.[0]?.focus())},null,8,["id","value","name","disabled","required"])]),_:3},16,["dir","data-complete","data-disabled"]))}}),ve=fe,me=V({__name:"PinInputInput",props:{index:{type:Number,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},setup(d){const e=d,a=pe(),n=c(()=>Array.from(a.inputElements.value)),r=c(()=>a.currentModelValue.value[e.index]),s=c(()=>e.disabled||a.disabled.value),i=c(()=>a.otp.value),f=c(()=>a.mask.value),{primitiveElement:g,currentElement:B}=K();function P(t){const l=t.target;if((t.data?.length??0)>1){p(l.value);return}if(a.isNumericMode.value&&!/^\d*$/.test(l.value)){l.value=l.value.replace(/\D/g,"");return}l.value=t.data??"",M(e.index,l.value);const o=n.value[e.index+1];o&&o.focus()}function b(){const t=B.value;se(()=>{t&&!t.value&&(t.placeholder=a.placeholder.value)})}function v(t){W(t,J(),void 0,{itemsArray:n.value,focus:!0,loop:!1,arrowKeyOptions:"horizontal",dir:a.dir.value})}function E(t){if(t.preventDefault(),t.target.value)M(e.index,"");else{const y=n.value[e.index-1];y&&(y.focus(),M(e.index-1,""))}}function w(t){t.key==="Delete"&&(t.preventDefault(),M(e.index,""))}function C(t){const l=t.target;l.setSelectionRange(1,1),l.value||(l.placeholder="")}function k(t){b()}function I(t){t.preventDefault();const l=t.clipboardData;if(!l)return;const o=l.getData("text");p(o)}function p(t){const l=[...a.currentModelValue.value],o=t.length>=n.value.length?0:e.index,y=Math.min(o+t.length,n.value.length);for(let $=o;$<y;$++){const L=n.value[$],F=t[$-o];a.isNumericMode.value&&!/^\d*$/.test(F)||(l[$]=F,L.focus())}a.modelValue.value=l,n.value[y]?.focus()}function _(t){let l=t.length-1;for(;l>=0&&t[l]==="";)t.pop(),l--;return t}function M(t,l){const o=[...a.currentModelValue.value];if(a.isNumericMode.value){const y=+l;l===""||isNaN(y)?delete o[t]:o[t]=y}else o[t]=l;a.modelValue.value=_(o)}return j(r,()=>{r.value||b()}),ne(()=>{a.onInputElementChange(B.value)}),ue(()=>{a.inputElements?.value.delete(B.value)}),(t,l)=>(m(),h(u(D),{ref_key:"primitiveElement",ref:g,autocapitalize:"none",as:t.as,"as-child":t.asChild,autocomplete:i.value?"one-time-code":"false",type:f.value?"password":"text",inputmode:u(a).isNumericMode.value?"numeric":"text",pattern:u(a).isNumericMode.value?"[0-9]*":void 0,placeholder:u(a).placeholder.value,value:r.value,disabled:s.value,"data-disabled":s.value?"":void 0,"data-complete":u(a).isCompleted.value?"":void 0,"aria-label":`pin input ${t.index+1} of ${n.value.length}`,onInput:l[0]||(l[0]=o=>P(o)),onKeydown:[S(v,["left","right","up","down","home","end"]),S(E,["backspace"]),S(w,["delete"])],onFocus:C,onBlur:k,onPaste:I},{default:x(()=>[A(t.$slots,"default")]),_:3},8,["as","as-child","autocomplete","type","inputmode","pattern","placeholder","value","disabled","data-disabled","data-complete","aria-label"]))}}),ye=me;const qe=V({__name:"PinInput",props:{modelValue:{default:()=>[]},defaultValue:{},placeholder:{},mask:{type:Boolean},otp:{type:Boolean},type:{},dir:{},disabled:{type:Boolean},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","complete"],setup(d,{emit:e}){const a=d,n=e,r=R(a,"class"),s=X(r,n);return(i,f)=>(m(),h(u(ve),q({"data-slot":"pin-input"},u(s),{class:u(N)("flex items-center gap-2 has-disabled:opacity-50 disabled:cursor-not-allowed",a.class)}),{default:x(()=>[A(i.$slots,"default")]),_:3},16,["class"]))}}),Ve=V({__name:"PinInputGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(d){const e=d,a=R(e,"class"),n=T(a);return(r,s)=>(m(),h(u(D),q({"data-slot":"pin-input-group"},u(n),{class:u(N)("flex items-center",e.class)}),{default:x(()=>[A(r.$slots,"default")]),_:3},16,["class"]))}}),Be=V({__name:"PinInputSlot",props:{index:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(d){const e=d,a=R(e,"class"),n=T(a);return(r,s)=>(m(),h(u(ye),q({"data-slot":"pin-input-slot"},u(n),{class:u(N)("border-input focus:border-ring focus:ring-ring/50 focus:aria-invalid:ring-destructive/20 dark:bg-input/30 dark:focus:aria-invalid:ring-destructive/40 aria-invalid:border-destructive focus:aria-invalid:border-destructive relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none text-center first:rounded-l-md first:border-l last:rounded-r-md focus:z-10 focus:ring-[3px]",e.class)}),null,16,["class"]))}});export{qe as _,Ve as a,Be as b};
