import{d as R,z as S,c as j,P as A,a as o,o as l,e,f as i,u as g,v as p,y as B,F as x,r as m,k as u,x as v,s as N,t as n,b as $,g as z}from"./app-8UGPV_N-.js";import{F as O}from"./filter-BH4iF3BX.js";import{R as P}from"./rotate-ccw-Dy0xZnGi.js";import{X as U}from"./x-D6TStRp8.js";import{C as E}from"./credit-card-Dn88jw4b.js";import{F as I}from"./folder-open-B_aUTXrP.js";import{T as J}from"./tag-BvRtUBZQ.js";import{D as K}from"./dollar-sign-_alMWShM.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-B6U64wvW.js";const X={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg mx-auto border border-gray-200 dark:border-gray-700 max-h-[90vh] flex flex-col"},q={class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0"},G={class:"flex items-center gap-2"},H={class:"flex items-center gap-1"},Q={class:"flex-1 overflow-y-auto p-4 space-y-5"},W=["value"],Y={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},Z={class:"max-h-32 overflow-y-auto space-y-1 border border-gray-200 dark:border-gray-700 rounded-xl p-3"},ee=["checked","onChange"],te={class:"flex-1 min-w-0"},re={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},ae={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},se={key:0,class:"ml-1"},oe={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},le={class:"max-h-32 overflow-y-auto space-y-1 border border-gray-200 dark:border-gray-700 rounded-xl p-3"},ne=["checked","onChange"],de={class:"flex-1"},ie={class:"text-sm text-gray-900 dark:text-white"},ge={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},ue={class:"max-h-24 overflow-y-auto space-y-1 border border-gray-200 dark:border-gray-700 rounded-xl p-3"},ce=["checked","onChange"],xe={class:"text-sm text-gray-900 dark:text-white"},me={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},ye={class:"space-y-3"},be={class:"grid grid-cols-1 gap-2"},pe=["checked","onChange"],fe={class:"text-sm text-gray-900 dark:text-white"},ke=R({__name:"FilterModal",props:{filters:{},masterData:{}},emits:["apply","close"],setup(h,{emit:_}){const c=h,f=_,a=S({...c.filters}),w=j(()=>a.value.type==="income"?c.masterData.income_categories:a.value.type==="expense"?c.masterData.expense_categories:[...c.masterData.income_categories,...c.masterData.expense_categories]),y=(s,r)=>s.indexOf(r)>-1?s.filter(d=>d!==r):[...s,r],C=(s,r)=>s.indexOf(r)>-1?s.filter(d=>d!==r):[...s,r],D=s=>{a.value.account_ids=y(a.value.account_ids,s)},F=s=>{a.value.category_ids=y(a.value.category_ids,s)},T=s=>{a.value.tag_ids=y(a.value.tag_ids,s)},V=s=>{a.value.flags=C(a.value.flags,s)},M=()=>{f("apply",{...a.value})},k=()=>{a.value={account_ids:[],category_ids:[],type:"both",flags:[],tag_ids:[],amount_min:void 0,amount_max:void 0}},b=()=>{f("close")};return A(()=>a.value.type,()=>{a.value.category_ids=[]}),(s,r)=>(l(),o("div",{class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:N(b,["self"])},[e("div",X,[e("div",q,[e("div",G,[i(g(O),{class:"w-5 h-5 text-teal-600 dark:text-teal-400"}),r[3]||(r[3]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Filter Transaksi",-1))]),e("div",H,[e("button",{onClick:k,class:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200 min-w-[44px] min-h-[44px] flex items-center justify-center",title:"Reset filter"},[i(g(P),{class:"w-4 h-4"})]),e("button",{onClick:b,class:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200 min-w-[44px] min-h-[44px] flex items-center justify-center"},[i(g(U),{class:"w-4 h-4"})])])]),e("div",Q,[e("div",null,[r[4]||(r[4]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 block"}," Tipe Transaksi ",-1)),p(e("select",{"onUpdate:modelValue":r[0]||(r[0]=t=>a.value.type=t),class:"w-full px-3 py-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"},[(l(!0),o(x,null,m(s.masterData.type_options,t=>(l(),o("option",{key:t.value,value:t.value},n(t.label),9,W))),128))],512),[[B,a.value.type]])]),e("div",null,[e("label",Y,[i(g(E),{class:"w-4 h-4"}),r[5]||(r[5]=u(" Akun ",-1))]),e("div",Z,[(l(!0),o(x,null,m(s.masterData.accounts,t=>(l(),o("label",{key:t.id,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.account_ids.includes(t.id),onChange:d=>D(t.id),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500 flex-shrink-0"},null,40,ee),e("div",te,[e("div",re,n(t.name),1),e("div",ae,[u(n(t.formatted_balance)+" ",1),t.category?(l(),o("span",se,"â€¢ "+n(t.category.name),1)):$("",!0)])])]))),128))])]),e("div",null,[e("label",oe,[i(g(I),{class:"w-4 h-4"}),r[6]||(r[6]=u(" Kategori ",-1))]),e("div",le,[(l(!0),o(x,null,m(w.value,t=>(l(),o("label",{key:t.id,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.category_ids.includes(t.id),onChange:d=>F(t.id),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500 flex-shrink-0"},null,40,ne),e("div",de,[e("div",ie,[u(n(t.name)+" ",1),e("span",{class:z(["ml-2 text-xs px-2 py-0.5 rounded-full",t.type==="income"?"bg-teal-100 text-teal-700 dark:bg-teal-900 dark:text-teal-300":"bg-coral-100 text-coral-700 dark:bg-coral-900 dark:text-coral-300"])},n(t.type==="income"?"Pemasukan":"Pengeluaran"),3)])])]))),128))])]),e("div",null,[e("label",ge,[i(g(J),{class:"w-4 h-4"}),r[7]||(r[7]=u(" Tag ",-1))]),e("div",ue,[(l(!0),o(x,null,m(s.masterData.tags,t=>(l(),o("label",{key:t.id,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.tag_ids.includes(t.id),onChange:d=>T(t.id),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500 flex-shrink-0"},null,40,ce),e("span",xe,n(t.name),1)]))),128))])]),e("div",null,[e("label",me,[i(g(K),{class:"w-4 h-4"}),r[8]||(r[8]=u(" Rentang Jumlah ",-1))]),e("div",ye,[e("div",null,[r[9]||(r[9]=e("label",{class:"text-xs text-gray-500 dark:text-gray-400 block mb-1"},"Minimal",-1)),p(e("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>a.value.amount_min=t),type:"number",min:"0",step:"1000",placeholder:"0",class:"w-full px-3 py-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"},null,512),[[v,a.value.amount_min,void 0,{number:!0}]])]),e("div",null,[r[10]||(r[10]=e("label",{class:"text-xs text-gray-500 dark:text-gray-400 block mb-1"},"Maksimal",-1)),p(e("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>a.value.amount_max=t),type:"number",min:"0",step:"1000",placeholder:"Tidak terbatas",class:"w-full px-3 py-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"},null,512),[[v,a.value.amount_max,void 0,{number:!0}]])])])]),e("div",null,[r[11]||(r[11]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 block"}," Status Transaksi ",-1)),e("div",be,[(l(!0),o(x,null,m(s.masterData.flag_options,t=>(l(),o("label",{key:t.value,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.flags.includes(t.value),onChange:d=>V(t.value),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500 flex-shrink-0"},null,40,pe),e("span",fe,n(t.label),1)]))),128))])])]),e("div",{class:"flex gap-3 p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50 flex-shrink-0"},[e("button",{onClick:k,class:"flex-1 py-3 border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200 font-medium text-sm"}," Reset "),e("button",{onClick:b,class:"flex-1 py-3 border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200 font-medium text-sm"}," Batal "),e("button",{onClick:M,class:"flex-1 py-3 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-xl hover:from-teal-600 hover:to-teal-700 transition-all duration-200 font-medium text-sm"}," Terapkan ")])])]))}}),Re=L(ke,[["__scopeId","data-v-ecf6658a"]]);export{Re as default};
