import{d as N,k as B,l as j,m as E,h as M,o as d,w as f,f as l,e as t,u as e,j as T,p as _,q as m,t as s,s as R,v as y,a as c,b as g,g as p,x as h,F as U,r as L,y as $}from"./app-jKgjRAwT.js";import{F as z}from"./FinancialAppLayout-5mrKbApA.js";import{u as D,_ as I,C as K}from"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-CJrnSpjX.js";import{A as q}from"./arrow-left-ChlQrpA5.js";import{S as G}from"./save-DtQwdFer.js";import"./useDarkMode-TsRY8s7f.js";import"./createLucideIcon-xCFzBAh5.js";import"./x-CEGugnZv.js";import"./trending-up-BAEAi5H7.js";import"./sun-BOiEA3c8.js";const H={class:"mb-8"},P={class:"flex items-center justify-between"},J={class:"flex items-center gap-3 mb-2"},O={class:"w-10 h-10 bg-gradient-to-r from-teal-500 to-coral-500 rounded-xl flex items-center justify-center"},Q={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},W={for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},X=["placeholder"],Y={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Z={for:"category",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},ee={value:""},te=["value"],ae={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},re={for:"balance",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},oe={class:"relative"},se=["value"],ne={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ie={for:"note",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},de=["placeholder"],le={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ce={class:"pt-6 border-t border-gray-200 dark:border-gray-700"},ue={class:"flex gap-4"},me=["disabled"],Ae=N({__name:"Edit",props:{account:{},categories:{}},setup(w){const{trans:i}=D(),{success:v,error:b,warning:ge,info:S}=B(),{confirmAction:A,alert:pe}=j(),u=w,a=E({name:u.account.name||"",note:u.account.note||"",account_category_id:u.account.account_category_id||"",initial_balance:u.account.initial_balance||0}),C=async()=>{a.initial_balance>1e7&&!await A("Konfirmasi Saldo Besar",`Anda akan membuat akun dengan saldo awal ${F(a.initial_balance.toString())}. Apakah data ini sudah benar?`)||a.put(`/settings/accounts/${u.account.id}`,{onStart:()=>{S("Menyimpan akun...",{message:"Sedang memproses data akun baru.",duration:2e3})},onSuccess:()=>{v("Akun berhasil dibuat!",{message:"Akun baru telah ditambahkan ke daftar akun Anda.",duration:5e3})},onError:o=>{o.name?b("Nama akun diperlukan",{message:"Silakan masukkan nama untuk akun baru.",duration:4e3}):o.account_category_id?b("Kategori akun diperlukan",{message:"Silakan pilih kategori untuk akun baru.",duration:4e3}):b("Gagal membuat akun",{message:"Terjadi kesalahan saat menyimpan data akun. Silakan coba lagi.",persistent:!0})}})},F=o=>{const r=parseFloat(o.replace(/[^0-9.-]/g,""));return isNaN(r)?0:r},k=o=>(typeof o=="string"?parseFloat(o)||0:o).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),V=o=>{const r=o.target,n=r.value.replace(/\./g,""),x=parseFloat(n)||0;a.initial_balance=x,r.value=k(x)};return(o,r)=>(d(),M(z,{showHeader:!1,showFab:!1},{default:f(()=>[l(e(T),{title:"Create Account"}),t("div",H,[t("div",P,[l(e(_),{href:"/settings/accounts",class:"inline-flex items-center text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 transition-colors mb-4"},{default:f(()=>[l(e(q),{class:"w-4 h-4 mr-2"}),m(" "+s(e(i)("settings.items.accounts.back_to_list")),1)]),_:1}),l(I)]),t("div",J,[t("div",O,[l(e(K),{class:"w-5 h-5 text-white"})]),r[3]||(r[3]=t("h1",{class:"text-3xl font-bold bg-gradient-to-r from-teal-600 to-coral-600 bg-clip-text text-transparent"}," Edit Rekening ",-1))]),r[4]||(r[4]=t("p",{class:"text-gray-600 dark:text-gray-300"}," Edit detail rekening. Pastikan informasi yang Anda masukkan sudah benar. ",-1))]),t("div",Q,[t("form",{onSubmit:R(C,["prevent"]),class:"space-y-6"},[t("div",null,[t("label",W,[m(s(e(i)("settings.items.accounts.form.name"))+" ",1),r[5]||(r[5]=t("span",{class:"text-red-500"},"*",-1))]),y(t("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=n=>e(a).name=n),type:"text",placeholder:e(i)("settings.items.accounts.form.name_placeholder"),class:p(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent",{"border-red-500":e(a).errors.name}])},null,10,X),[[h,e(a).name]]),e(a).errors.name?(d(),c("p",Y,s(e(a).errors.name),1)):g("",!0)]),t("div",null,[t("label",Z,[m(s(e(i)("settings.items.accounts.form.category"))+" ",1),r[6]||(r[6]=t("span",{class:"text-red-500"},"*",-1))]),y(t("select",{id:"category","onUpdate:modelValue":r[1]||(r[1]=n=>e(a).account_category_id=n),class:p(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent",{"border-red-500":e(a).errors.account_category_id}])},[t("option",ee,s(e(i)("settings.items.accounts.form.category_first_option")),1),(d(!0),c(U,null,L(o.categories,n=>(d(),c("option",{key:n.id,value:n.id},s(n.name),9,te))),128))],2),[[$,e(a).account_category_id]]),e(a).errors.account_category_id?(d(),c("p",ae,s(e(a).errors.account_category_id),1)):g("",!0)]),t("div",null,[t("label",re,s(e(i)("settings.items.accounts.form.initial_balance")),1),t("div",oe,[r[7]||(r[7]=t("div",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}," Rp ",-1)),t("input",{id:"balance",value:k(e(a).initial_balance),onInput:V,type:"text",class:p(["w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent",{"border-red-500":e(a).errors.initial_balance}])},null,42,se)]),e(a).errors.initial_balance?(d(),c("p",ne,s(e(a).errors.initial_balance),1)):g("",!0)]),t("div",null,[t("label",ie,s(e(i)("settings.items.accounts.form.note")),1),y(t("textarea",{id:"note","onUpdate:modelValue":r[2]||(r[2]=n=>e(a).note=n),rows:"3",placeholder:e(i)("settings.items.accounts.form.note_placeholder"),class:p(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none",{"border-red-500":e(a).errors.note}])},null,10,de),[[h,e(a).note]]),e(a).errors.note?(d(),c("p",le,s(e(a).errors.note),1)):g("",!0)]),t("div",ce,[t("div",ue,[t("button",{type:"submit",disabled:e(a).processing,class:"flex-1 flex items-center justify-center px-6 py-3 bg-gradient-to-r from-teal-600 to-coral-600 text-white rounded-xl font-medium hover:from-teal-700 hover:to-coral-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"},[l(e(G),{class:"w-5 h-5 mr-2"}),m(" "+s(e(a).processing?"Menyimpan...":"Update Rekening"),1)],8,me),l(e(_),{href:"/settings/accounts",class:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},{default:f(()=>[m(s(e(i)("settings.items.accounts.btn.cancel")),1)]),_:1})])])],32)])]),_:1}))}});export{Ae as default};
