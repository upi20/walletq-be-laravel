import{d as F,k as V,l as N,m as B,h as j,o as l,w as b,f as d,e as t,u as e,j as T,p as k,q as u,t as s,s as M,v as f,a as c,b as m,g,x,F as L,r as U,y as z}from"./app-jKgjRAwT.js";import{F as D}from"./FinancialAppLayout-5mrKbApA.js";import{u as E,_ as I,C as K}from"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-CJrnSpjX.js";import{A as R}from"./arrow-left-ChlQrpA5.js";import{S as $}from"./save-DtQwdFer.js";import"./useDarkMode-TsRY8s7f.js";import"./createLucideIcon-xCFzBAh5.js";import"./x-CEGugnZv.js";import"./trending-up-BAEAi5H7.js";import"./sun-BOiEA3c8.js";const q={class:"mb-8"},G={class:"flex items-center justify-between"},H={class:"flex items-center gap-3 mb-2"},J={class:"w-10 h-10 bg-gradient-to-r from-teal-500 to-coral-500 rounded-xl flex items-center justify-center"},O={class:"text-3xl font-bold bg-gradient-to-r from-teal-600 to-coral-600 bg-clip-text text-transparent"},P={class:"text-gray-600 dark:text-gray-300"},Q={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},W={for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},X=["placeholder"],Y={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Z={for:"category",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},ee={value:""},te=["value"],ae={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},re={for:"balance",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},se={class:"relative"},oe=["value"],ne={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ie={for:"note",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},le=["placeholder"],de={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ce={class:"pt-6 border-t border-gray-200 dark:border-gray-700"},ue={class:"flex gap-4"},me=["disabled"],Ce=F({__name:"Create",props:{categories:{}},setup(ge){const{trans:o}=E(),{success:h,error:p,warning:pe,info:w}=V(),{confirmAction:v,alert:be}=N(),a=B({name:"",note:"",account_category_id:"",initial_balance:0}),S=async()=>{a.initial_balance>1e7&&!await v("Konfirmasi Saldo Besar",`Anda akan membuat akun dengan saldo awal ${A(a.initial_balance.toString())}. Apakah data ini sudah benar?`)||a.post("/settings/accounts",{onStart:()=>{w("Menyimpan akun...",{message:"Sedang memproses data akun baru.",duration:2e3})},onSuccess:()=>{h("Akun berhasil dibuat!",{message:"Akun baru telah ditambahkan ke daftar akun Anda.",duration:5e3})},onError:n=>{n.name?p("Nama akun diperlukan",{message:"Silakan masukkan nama untuk akun baru.",duration:4e3}):n.account_category_id?p("Kategori akun diperlukan",{message:"Silakan pilih kategori untuk akun baru.",duration:4e3}):p("Gagal membuat akun",{message:"Terjadi kesalahan saat menyimpan data akun. Silakan coba lagi.",persistent:!0})}})},A=n=>{const r=parseFloat(n.replace(/[^0-9.-]/g,""));return isNaN(r)?0:r},_=n=>(typeof n=="string"?parseFloat(n)||0:n).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),C=n=>{const r=n.target,i=r.value.replace(/\./g,""),y=parseFloat(i)||0;a.initial_balance=y,r.value=_(y)};return(n,r)=>(l(),j(D,{showHeader:!1,showFab:!1},{default:b(()=>[d(e(T),{title:"Create Account"}),t("div",q,[t("div",G,[d(e(k),{href:"/settings/accounts",class:"inline-flex items-center text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 transition-colors mb-4"},{default:b(()=>[d(e(R),{class:"w-4 h-4 mr-2"}),u(" "+s(e(o)("settings.items.accounts.back_to_list")),1)]),_:1}),d(I)]),t("div",H,[t("div",J,[d(e(K),{class:"w-5 h-5 text-white"})]),t("h1",O,s(e(o)("settings.items.accounts.title_create")),1)]),t("p",P,s(e(o)("settings.items.accounts.note_create")),1)]),t("div",Q,[t("form",{onSubmit:M(S,["prevent"]),class:"space-y-6"},[t("div",null,[t("label",W,[u(s(e(o)("settings.items.accounts.form.name"))+" ",1),r[3]||(r[3]=t("span",{class:"text-red-500"},"*",-1))]),f(t("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=i=>e(a).name=i),type:"text",placeholder:e(o)("settings.items.accounts.form.name_placeholder"),class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent",{"border-red-500":e(a).errors.name}])},null,10,X),[[x,e(a).name]]),e(a).errors.name?(l(),c("p",Y,s(e(a).errors.name),1)):m("",!0)]),t("div",null,[t("label",Z,[u(s(e(o)("settings.items.accounts.form.category"))+" ",1),r[4]||(r[4]=t("span",{class:"text-red-500"},"*",-1))]),f(t("select",{id:"category","onUpdate:modelValue":r[1]||(r[1]=i=>e(a).account_category_id=i),class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent",{"border-red-500":e(a).errors.account_category_id}])},[t("option",ee,s(e(o)("settings.items.accounts.form.category_first_option")),1),(l(!0),c(L,null,U(n.categories,i=>(l(),c("option",{key:i.id,value:i.id},s(i.name),9,te))),128))],2),[[z,e(a).account_category_id]]),e(a).errors.account_category_id?(l(),c("p",ae,s(e(a).errors.account_category_id),1)):m("",!0)]),t("div",null,[t("label",re,s(e(o)("settings.items.accounts.form.initial_balance")),1),t("div",se,[r[5]||(r[5]=t("div",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}," Rp ",-1)),t("input",{id:"balance",value:_(e(a).initial_balance),onInput:C,type:"text",class:g(["w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent",{"border-red-500":e(a).errors.initial_balance}])},null,42,oe)]),e(a).errors.initial_balance?(l(),c("p",ne,s(e(a).errors.initial_balance),1)):m("",!0)]),t("div",null,[t("label",ie,s(e(o)("settings.items.accounts.form.note")),1),f(t("textarea",{id:"note","onUpdate:modelValue":r[2]||(r[2]=i=>e(a).note=i),rows:"3",placeholder:e(o)("settings.items.accounts.form.note_placeholder"),class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none",{"border-red-500":e(a).errors.note}])},null,10,le),[[x,e(a).note]]),e(a).errors.note?(l(),c("p",de,s(e(a).errors.note),1)):m("",!0)]),t("div",ce,[t("div",ue,[t("button",{type:"submit",disabled:e(a).processing,class:"flex-1 flex items-center justify-center px-6 py-3 bg-gradient-to-r from-teal-600 to-coral-600 text-white rounded-xl font-medium hover:from-teal-700 hover:to-coral-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"},[d(e($),{class:"w-5 h-5 mr-2"}),u(" "+s(e(a).processing?e(o)("settings.items.accounts.btn.save_progress"):e(o)("settings.items.accounts.btn.save")),1)],8,me),d(e(k),{href:"/settings/accounts",class:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},{default:b(()=>[u(s(e(o)("settings.items.accounts.btn.cancel")),1)]),_:1})])])],32)])]),_:1}))}});export{Ce as default};
