import{d as $,z as A,c as u,a as s,o as r,e as t,b as c,g as m,h as B,i as E,t as o,k as p,f as d,u as l,F as x,r as V,s as L}from"./app-CjXyzFP-.js";import{f as N}from"./formatCurrency-6zMsDc4Z.js";import{T as S}from"./trending-up-BAyEQQVh.js";import{T as j}from"./trending-down-DE2iJo1a.js";import{R as z}from"./receipt-B0ADbpZo.js";import{A as I}from"./arrow-right-left-iTaSY6F4.js";import{C as M}from"./credit-card-DRwhehE2.js";import{T as P}from"./tag-4X57dsfM.js";import{E as R}from"./ellipsis-vertical-CnwaGtNB.js";import{E as F}from"./eye-BSmhmnHm.js";import{S as U}from"./square-pen-BWuo0aZn.js";import{T as q}from"./trash-2-IvgbGUro.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-CbON2GJz.js";const K={class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors duration-200"},O={class:"flex items-start gap-3"},Z={class:"flex-1 min-w-0"},G={class:"flex items-start justify-between"},J={class:"flex-1 min-w-0"},Q={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},W={class:"flex items-center gap-2 mt-1 text-xs text-gray-500 dark:text-gray-400"},X={class:"flex items-center gap-2 mt-2"},Y={key:1,class:"flex items-center gap-1"},tt={class:"flex gap-1"},et={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},at={class:"flex items-start gap-3 ml-3"},rt={class:"text-right"},st={key:0,class:"relative"},nt={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-2xl w-full max-w-xs mx-auto"},ot={class:"py-2"},it=$({__name:"TransactionCard",props:{transaction:{}},emits:["action","accountClick","categoryClick"],setup(k,{emit:b}){const i=k,y=b,g=A(!1),v=u(()=>{switch(i.transaction.flag){case"transfer_in":case"transfer_out":return I;case"debt_payment":case"debt_collect":return z;default:return i.transaction.type==="income"?S:j}}),h=u(()=>i.transaction.type==="income"?"text-teal-600 dark:text-teal-400":"text-coral-600 dark:text-coral-400"),w=u(()=>i.transaction.type==="income"?"bg-teal-100 dark:bg-teal-900":"bg-coral-100 dark:bg-coral-900"),C=u(()=>i.transaction.type==="income"?"text-teal-600 dark:text-teal-400":"text-coral-600 dark:text-coral-400"),T=u(()=>{switch(i.transaction.flag){case"transfer_in":case"transfer_out":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"debt_payment":case"debt_collect":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";case"initial_balance":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}}),_=()=>{g.value=!g.value},f=e=>{y("action",e,i.transaction.id),g.value=!1},D=e=>new Date(e).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",timeZone:"UTC"});return(e,a)=>(r(),s(x,null,[t("div",K,[t("div",O,[t("div",{class:m(["flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center",w.value])},[(r(),B(E(v.value),{class:m(["w-5 h-5",C.value])},null,8,["class"]))],2),t("div",Z,[t("div",G,[t("div",J,[t("h4",Q,o(e.transaction.note||`Transaksi ${e.transaction.type==="income"?"Pemasukan":"Pengeluaran"}`),1),t("div",W,[t("button",{onClick:a[0]||(a[0]=n=>y("accountClick",e.transaction.account_id)),class:"flex items-center gap-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded px-1 py-0.5 -mx-1 transition-colors duration-200"},[d(l(M),{class:"w-3 h-3"}),t("span",null,o(e.transaction.account?.name||"Akun Tidak Diketahui"),1)]),a[6]||(a[6]=t("span",{class:"text-gray-300 dark:text-gray-600"},"â€¢",-1)),e.transaction.transaction_category_id?(r(),s("button",{key:0,onClick:a[1]||(a[1]=n=>y("categoryClick",e.transaction.transaction_category_id)),class:"flex items-center gap-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded px-1 py-0.5 -mx-1 transition-colors duration-200"},[t("div",{class:m(["w-2 h-2 rounded-full",e.transaction.category?.type==="income"?"bg-teal-500":"bg-coral-500"])},null,2),t("span",null,o(e.transaction.category?.name||"Kategori Tidak Diketahui"),1)])):c("",!0),p(" "+o(D(e.transaction.date)),1)]),t("div",X,[e.transaction.flag!=="normal"?(r(),s("span",{key:0,class:m(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",T.value])},o(e.transaction.flag_label),3)):c("",!0),e.transaction.tags&&e.transaction.tags.length>0?(r(),s("div",Y,[d(l(P),{class:"w-3 h-3 text-gray-400"}),t("div",tt,[(r(!0),s(x,null,V(e.transaction.tags.slice(0,2),n=>(r(),s("span",{key:n.id,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"},o(n.name),1))),128)),e.transaction.tags.length>2?(r(),s("span",et," +"+o(e.transaction.tags.length-2),1)):c("",!0)])])):c("",!0)])]),t("div",at,[t("div",rt,[t("div",{class:m(["text-sm font-semibold",h.value])},o(l(N)(e.transaction.type==="income"?e.transaction.amount:-e.transaction.amount,"currency")),3)]),e.transaction.flag==="normal"?(r(),s("div",st,[t("button",{onClick:_,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"},[d(l(R),{class:"w-4 h-4"})])])):c("",!0)])])])])]),g.value?(r(),s("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:a[5]||(a[5]=L(n=>g.value=!1,["self"]))},[t("div",nt,[t("div",ot,[t("button",{onClick:a[2]||(a[2]=n=>f("view")),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200"},[d(l(F),{class:"w-4 h-4"}),a[7]||(a[7]=p(" Lihat Detail ",-1))]),t("button",{onClick:a[3]||(a[3]=n=>f("edit")),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200"},[d(l(U),{class:"w-4 h-4"}),a[8]||(a[8]=p(" Edit Transaksi ",-1))]),a[10]||(a[10]=t("hr",{class:"my-1 border-gray-200 dark:border-gray-600"},null,-1)),t("button",{onClick:a[4]||(a[4]=n=>f("delete")),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200"},[d(l(q),{class:"w-4 h-4"}),a[9]||(a[9]=p(" Hapus Transaksi ",-1))])])])])):c("",!0)],64))}}),wt=H(it,[["__scopeId","data-v-42712905"]]);export{wt as default};
