import{d as S,z as A,c as u,a as o,o as r,e as t,b as i,g as l,h as b,u as c,i as $,t as n,f as m,k,F as f,r as j,s as V}from"./app-eirzRowL.js";import{f as z}from"./formatCurrency-6zMsDc4Z.js";import{T as E}from"./trending-up-pXwcg9Rr.js";import{T as N}from"./trending-down-B7Ums-Zp.js";import{R as I}from"./receipt-DKGZo4Qw.js";import{A as L}from"./arrow-right-left-CNDHCFNf.js";import{C as P}from"./check-Bkm7pH5B.js";import{C as R}from"./credit-card-CLVJtI2z.js";import{T as F}from"./tag-bl-b--od.js";import{E as U}from"./ellipsis-vertical-rC5wbXFW.js";import{S as q}from"./square-pen-Cy0GAbai.js";import{T as H}from"./trash-2-BQ5un-Wr.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-DyxDjs0G.js";const O={class:"flex items-start gap-3"},Z={key:0,class:"flex-shrink-0 mt-1"},G=["disabled"],J={class:"flex-1 min-w-0"},Q={class:"flex items-start justify-between"},W={class:"flex-1 min-w-0"},X={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},Y={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},ee={class:"flex items-center gap-1"},te={class:"flex items-center gap-1"},ae={class:"inline-block pe-2"},re={class:"text-nowrap flex items-center"},se={class:"flex items-center gap-2 mt-2"},oe={key:1,class:"flex items-center gap-1"},ne={class:"flex gap-1"},ie={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},le={class:"flex items-start gap-3 ml-3"},de={class:"text-right"},ce={key:0,class:"relative"},ge={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-2xl w-full max-w-xs mx-auto"},ue={class:"py-2"},me=["disabled"],pe=S({__name:"TransactionCard",props:{transaction:{},bulkMode:{type:Boolean},selected:{type:Boolean},canDelete:{type:Boolean}},emits:["action","accountClick","categoryClick","toggleSelect"],setup(h,{emit:v}){const s=h,p=v,g=A(!1),x=u(()=>{switch(s.transaction.flag){case"transfer_in":case"transfer_out":return L;case"debt_payment":case"debt_collect":return I;default:return s.transaction.type==="income"?E:N}}),w=u(()=>s.transaction.type==="income"?"text-teal-600 dark:text-teal-400":"text-coral-600 dark:text-coral-400"),C=u(()=>s.transaction.type==="income"?"bg-teal-100 dark:bg-teal-900":"bg-coral-100 dark:bg-coral-900"),_=u(()=>s.transaction.type==="income"?"text-teal-600 dark:text-teal-400":"text-coral-600 dark:text-coral-400"),T=u(()=>{switch(s.transaction.flag){case"transfer_in":case"transfer_out":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"debt_payment":case"debt_collect":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";case"initial_balance":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}}),D=()=>{g.value=!g.value},y=e=>{p("action",e,s.transaction.id),g.value=!1},B=()=>{s.bulkMode&&s.canDelete&&p("toggleSelect",s.transaction.id)},M=e=>new Date(e).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",timeZone:"UTC"});return(e,a)=>(r(),o(f,null,[t("div",{class:l(["p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors duration-200",{"bg-red-50 dark:bg-red-900/10":e.bulkMode&&!e.canDelete}])},[t("div",O,[e.bulkMode?(r(),o("div",Z,[t("button",{onClick:B,disabled:!e.canDelete,class:l(["w-5 h-5 rounded border-2 transition-all duration-200 flex items-center justify-center",e.canDelete?e.selected?"bg-teal-500 border-teal-500 hover:bg-teal-600 hover:border-teal-600":"border-gray-300 dark:border-gray-600 hover:border-teal-500":"border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 cursor-not-allowed opacity-50"])},[e.selected&&e.canDelete?(r(),b(c(P),{key:0,class:"w-3 h-3 text-white"})):i("",!0)],10,G)])):i("",!0),t("div",{class:l(["flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center",C.value])},[(r(),b($(x.value),{class:l(["w-5 h-5",_.value])},null,8,["class"]))],2),t("div",J,[t("div",Q,[t("div",W,[t("h4",X,n(e.transaction.note||`Transaksi ${e.transaction.type==="income"?"Pemasukan":"Pengeluaran"}`),1),t("div",Y,[t("button",{onClick:a[0]||(a[0]=d=>p("accountClick",e.transaction.account_id)),class:"inline-block hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-200 text-nowrap pe-2"},[t("div",ee,[m(c(R),{class:"w-3 h-3"}),t("span",null,n(e.transaction.account?.name||"Akun Tidak Diketahui"),1)])]),e.transaction.transaction_category_id?(r(),o("button",{key:0,onClick:a[1]||(a[1]=d=>p("categoryClick",e.transaction.transaction_category_id)),class:"inline-block hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-200 text-nowrap pe-2"},[t("div",te,[t("div",{class:l(["w-3 h-3 rounded-full",e.transaction.category?.type==="income"?"bg-teal-500":"bg-coral-500"])},null,2),t("span",null,n(e.transaction.category?.name||"Kategori Tidak Diketahui"),1)])])):i("",!0),t("div",ae,[t("div",re,[a[5]||(a[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"inline-block w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),k(" "+n(M(e.transaction.date)),1)])])]),t("div",se,[e.transaction.flag!=="normal"?(r(),o("span",{key:0,class:l(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",T.value])},n(e.transaction.flag_label),3)):i("",!0),e.transaction.tags&&e.transaction.tags.length>0?(r(),o("div",oe,[m(c(F),{class:"w-3 h-3 text-gray-400"}),t("div",ne,[(r(!0),o(f,null,j(e.transaction.tags.slice(0,2),d=>(r(),o("span",{key:d.id,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"},n(d.name),1))),128)),e.transaction.tags.length>2?(r(),o("span",ie," +"+n(e.transaction.tags.length-2),1)):i("",!0)])])):i("",!0)])]),t("div",le,[t("div",de,[t("div",{class:l(["text-sm font-semibold",w.value])},n(c(z)(e.transaction.type==="income"?e.transaction.amount:-e.transaction.amount,"currency")),3)]),e.transaction.flag==="normal"?(r(),o("div",ce,[t("button",{onClick:D,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"},[m(c(U),{class:"w-4 h-4"})])])):i("",!0)])])])])],2),g.value?(r(),o("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:a[4]||(a[4]=V(d=>g.value=!1,["self"]))},[t("div",ge,[t("div",ue,[t("button",{onClick:a[2]||(a[2]=d=>y("edit")),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200"},[m(c(q),{class:"w-4 h-4"}),a[6]||(a[6]=k(" Edit Transaksi ",-1))]),a[7]||(a[7]=t("hr",{class:"my-1 border-gray-200 dark:border-gray-600"},null,-1)),t("button",{onClick:a[3]||(a[3]=d=>y("delete")),disabled:!e.canDelete,class:l([e.canDelete?"text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-400 dark:text-gray-600 cursor-not-allowed","flex items-center gap-3 w-full px-4 py-3 text-sm transition-colors duration-200"])},[m(c(H),{class:"w-4 h-4"}),k(" "+n(e.canDelete?"Hapus Transaksi":"Tidak Dapat Dihapus"),1)],10,me)])])])):i("",!0)],64))}}),Se=K(pe,[["__scopeId","data-v-24ebb623"]]);export{Se as default};
