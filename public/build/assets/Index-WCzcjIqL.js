import{d as W,m as X,p as Y,z as p,A as Z,c as $,h as f,o,w as x,f as r,e as t,a as u,b,u as e,j as I,l as k,k as m,t as l,F as E,s as S,v as ee,x as te,r as se,g as ae,B as M}from"./app-DCHghNUX.js";import{P as N,F as re}from"./FinancialAppLayout-DJ8ZSLq0.js";import{f as T}from"./formatCurrency-6zMsDc4Z.js";import{u as oe}from"./useTranslation-DFpgqADH.js";import{_ as le}from"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-CoRvBoy1.js";import{A as ne}from"./arrow-left-55cmadxN.js";import{C as A}from"./credit-card-DAdk4GDI.js";import{S as ie}from"./search-Bt1j7ocR.js";import{C as V}from"./chevron-up-DIvuEgjM.js";import{C as D}from"./chevron-down-DY3B-WXn.js";import{C as ce}from"./check-B2D8dL4F.js";import{E as de}from"./ellipsis-vertical-Ctt4xSuq.js";import{S as ue}from"./square-pen-CRssHkuL.js";import{T as me}from"./trash-2-DCT18jov.js";import{F as he}from"./filter-HCDGAQeP.js";import"./useDarkMode-BY6xFCQW.js";import"./createLucideIcon-DYO05hdB.js";import"./x-C5xOMIbY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./trending-up-Dp1gfZya.js";import"./settings-Cl8o-X6U.js";import"./sun-CPqDKBvM.js";const ge={class:"mb-1"},fe={class:"flex items-center justify-between mb-4"},pe={class:"flex items-center gap-2"},ve={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},xe={class:"flex items-center gap-3 mb-2"},be={class:"w-10 h-10 bg-gradient-to-r from-teal-500 to-coral-500 rounded-xl flex items-center justify-center"},_e={class:"text-xs"},ye={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 mb-6 mt-5"},ke={class:"flex flex-col sm:flex-row gap-4"},we=["placeholder"],Ce={class:"flex items-center gap-2"},Se={class:"flex items-center bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden"},Te={key:1,class:"text-center py-16"},Ae={class:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6"},je={class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},Fe={class:"text-gray-600 dark:text-gray-400 mb-6"},Be={key:2,class:"text-center py-12"},$e={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},Ee={class:"text-gray-600 dark:text-gray-400"},Me={key:3,class:"grid grid-cols-1 gap-1 mb-20"},Ne={class:"flex items-start justify-between"},Ve=["onClick"],De={class:"ms-2 w-8 h-8 bg-gradient-to-r from-teal-100 to-coral-100 dark:from-teal-900 dark:to-coral-900 rounded-md flex items-center justify-center"},Le={class:"font-semibold text-gray-900 dark:text-white group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors"},ze={class:"flex items-center gap-2 mb-1"},Pe={class:"text-xs text-teal-700"},Ue={class:"relative"},He=["onClick"],Ke={key:0,class:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10"},Oe=["onClick"],pt=W({__name:"Index",props:{accounts:{},categories:{},filters:{},totalBalance:{}},setup(L){const v=L,{trans:n}=oe(),{success:z,error:P,warning:Re,info:qe}=X(),{confirmDelete:U,confirmAction:Ge,alert:Qe}=Y(),_=p(null),H=s=>{_.value=_.value===s?null:s},w=p(v.filters.search||""),C=p(!1),K=()=>{C.value=!C.value};let c=null;const O=s=>{if(s.key==="Enter"){c&&(clearTimeout(c),c=null),y();return}c&&clearTimeout(c),c=setTimeout(()=>{y(),c=null},500)};Z(()=>{c&&(clearTimeout(c),c=null)});const h=p("name"),d=p("asc"),j=$(()=>Array.isArray(v.accounts)?v.accounts.slice():[]),y=()=>{M.get("/settings/accounts",{search:w.value,sortField:h.value,sortOrder:d.value},{preserveState:!0,preserveScroll:!0,only:["accounts"]})},F=s=>{h.value===s?d.value=d.value==="asc"?"desc":"asc":(h.value=s,d.value="asc"),y()},R=async s=>{await U(s.name)&&M.delete(`/settings/accounts/${s.id}`,{onStart:()=>{},onSuccess:()=>{z("Rekening berhasil dihapus!",{message:`Rekening "${s.name}" telah dihapus dari sistem.`,duration:5e3})},onError:()=>{P("Gagal menghapus rekening",{message:"Terjadi kesalahan saat menghapus rekening. Silakan coba lagi.",persistent:!0})}})};document.addEventListener("click",s=>{s.target.closest(".group")||(_.value=null)});const g=p([]),q=s=>{g.value.includes(s)?g.value=g.value.filter(a=>a!==s):g.value.push(s)},G=s=>g.value.includes(s),Q=$(()=>v.accounts.filter(s=>g.value.includes(s.id)).reduce((s,a)=>Number(s)+Number(a.current_balance),0));return(s,a)=>(o(),f(re,{showHeader:!1,showFab:!1,containerClass:"px-3 pt-6 pb-32"},{default:x(()=>[r(e(I),{title:e(n)("accounts.title")},null,8,["title"]),t("div",ge,[t("div",fe,[r(e(k),{href:"/settings",class:"inline-flex items-center text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 transition-colors"},{default:x(()=>[r(e(ne),{class:"w-4 h-4 mr-2"}),m(" "+l(e(n)("settings.back_to_settings")),1)]),_:1}),t("div",pe,[r(le),a[3]||(a[3]=t("div",{class:"flex gap-2"},null,-1))])]),t("div",ve,[t("div",null,[t("div",xe,[t("div",be,[r(e(A),{class:"w-5 h-5 text-white"})]),t("div",null,[a[4]||(a[4]=t("h1",{class:"text-1xl font-bold bg-gradient-to-r from-teal-600 to-coral-600 bg-clip-text text-transparent"}," Total Saldo ",-1)),t("h3",_e,[m(l(e(T)(v.totalBalance))+" ",1),g.value.length>0?(o(),u(E,{key:0},[m(" | Dipilih : "+l(e(T)(Q.value)),1)],64)):b("",!0)])])])])])]),C.value?(o(),u("div",ye,[t("div",ke,[t("form",{class:"relative flex-1",onSubmit:S(y,["prevent"])},[r(e(ie),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),ee(t("input",{"onUpdate:modelValue":a[0]||(a[0]=i=>w.value=i),type:"search",placeholder:e(n)("accounts.search_placeholder"),class:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent",onKeyup:O},null,40,we),[[te,w.value]])],32),t("div",Ce,[t("div",Se,[t("button",{onClick:a[1]||(a[1]=S(i=>F("name"),["prevent"])),class:"px-3 py-2 text-sm flex items-center gap-2"},[m(l(e(n)("common.name"))+" ",1),h.value==="name"&&d.value==="asc"?(o(),f(e(V),{key:0,class:"w-4 h-4"})):h.value==="name"&&d.value==="desc"?(o(),f(e(D),{key:1,class:"w-4 h-4"})):b("",!0)]),t("button",{onClick:a[2]||(a[2]=S(i=>F("current_balance"),["prevent"])),class:"px-3 py-2 text-sm flex items-center gap-2 border-l border-gray-200 dark:border-gray-700"},[m(l(e(n)("accounts.balance"))+" ",1),h.value==="current_balance"&&d.value==="asc"?(o(),f(e(V),{key:0,class:"w-4 h-4"})):h.value==="current_balance"&&d.value==="desc"?(o(),f(e(D),{key:1,class:"w-4 h-4"})):b("",!0)])])])])])):b("",!0),s.accounts.length===0?(o(),u("div",Te,[t("div",Ae,[r(e(A),{class:"w-12 h-12 text-gray-400"})]),t("h3",je,l(e(n)("accounts.no_accounts")),1),t("p",Fe,l(e(n)("accounts.no_accounts_subtitle")),1),r(e(k),{href:"/settings/accounts/create",class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-coral-600 text-white rounded-xl font-medium hover:from-teal-700 hover:to-coral-700 transition-all duration-200"},{default:x(()=>[r(e(N),{class:"w-5 h-5 mr-2"}),m(" "+l(e(n)("accounts.create_account")),1)]),_:1})])):j.value.length===0?(o(),u("div",Be,[t("h3",$e,l(e(n)("accounts.no_results")),1),t("p",Ee,l(e(n)("accounts.no_results_subtitle")),1)])):(o(),u("div",Me,[(o(!0),u(E,null,se(j.value,(i,J)=>(o(),u("div",{key:i.id,class:ae(["group rounded-md p-0 shadow-sm border transition-all duration-300",J%2===0?"bg-white dark:bg-gray-800 border-none hover:shadow-lg hover:shadow-teal-500/10":"bg-teal-50 dark:bg-teal-900/20 border-none hover:shadow-lg hover:shadow-coral-500/10"])},[t("div",Ne,[t("div",{class:"flex items-center gap-3",onClick:B=>q(i.id)},[t("div",De,[G(i.id)==!1?(o(),f(e(A),{key:0,class:"w-6 h-6 text-teal-600 dark:text-teal-400"})):(o(),f(e(ce),{key:1,class:"w-6 h-6 text-teal-600 dark:text-teal-400"}))]),t("div",null,[t("h3",Le,l(i.name),1),t("div",ze,[t("span",Pe,l(e(T)(i.current_balance)),1)])])],8,Ve),t("div",Ue,[t("button",{class:"w-8 h-8 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors mt-1",onClick:B=>H(i.id)},[r(e(de),{class:"w-4 h-4 text-gray-400"})],8,He),_.value===i.id?(o(),u("div",Ke,[r(e(k),{href:`/settings/accounts/${i.id}/edit`,class:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},{default:x(()=>[r(e(ue),{class:"w-4 h-4 mr-3"}),m(" "+l(e(n)("accounts.edit_account")),1)]),_:2},1032,["href"]),t("button",{onClick:B=>R(i),class:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"},[r(e(me),{class:"w-4 h-4 mr-3"}),m(" "+l(e(n)("accounts.delete_account")),1)],8,Oe)])):b("",!0)])])],2))),128))])),t("button",{onClick:K,class:"fixed bottom-20 left-6 w-14 h-14 bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-105 active:scale-95"},[r(e(he),{class:"w-6 h-6 text-white"})]),r(e(k),{href:"/settings/accounts/create",title:e(n)("accounts.add_account"),class:"fixed bottom-20 right-6 w-14 h-14 bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-105 active:scale-95"},{default:x(()=>[r(e(N),{class:"w-6 h-6 text-white"})]),_:1},8,["title"])]),_:1}))}});export{pt as default};
