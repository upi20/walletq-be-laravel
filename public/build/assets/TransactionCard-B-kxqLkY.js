import{d as A,z as B,c as l,a as o,o as n,e as t,b as m,g as u,h as D,i as E,t as i,f as c,u as d,F as y,r as V,s as N,k as f}from"./app-Bbr4huxm.js";import{f as R}from"./formatCurrency-6zMsDc4Z.js";import{T as j}from"./trending-up--P5T4r3s.js";import{T as z}from"./trending-down-CPz2tXkf.js";import{R as L}from"./receipt-BRbIXCya.js";import{A as M}from"./arrow-right-left-DybWfySR.js";import{C as P}from"./credit-card-C3oAvuZJ.js";import{T as S}from"./tag-zxE92EqY.js";import{E as F,T as I}from"./trash-2-WqxnbzQr.js";import{E as q}from"./eye-F0uotoGY.js";import{S as H}from"./square-pen-gG2lHZe9.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-VamSCHgF.js";const U={class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors duration-200"},G={class:"flex items-start gap-3"},J={class:"flex-1 min-w-0"},O={class:"flex items-start justify-between"},Q={class:"flex-1 min-w-0"},W={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},X={class:"flex items-center gap-2 mt-1 text-xs text-gray-500 dark:text-gray-400"},Y={class:"flex items-center gap-2 mt-2"},Z={key:1,class:"flex items-center gap-1"},tt={class:"flex gap-1"},et={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},at={class:"flex items-start gap-3 ml-3"},rt={class:"text-right"},st={class:"relative"},nt={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-2xl w-full max-w-xs mx-auto"},ot={class:"py-2"},it=A({__name:"TransactionCard",props:{transaction:{}},emits:["action","accountClick","categoryClick"],setup(k,{emit:b}){const r=k,p=b,g=B(!1),v=l(()=>{switch(r.transaction.flag){case"transfer_in":case"transfer_out":return M;case"debt_payment":case"debt_collect":return L;default:return r.transaction.type==="income"?j:z}}),h=l(()=>r.transaction.type==="income"?"text-teal-600 dark:text-teal-400":"text-coral-600 dark:text-coral-400"),w=l(()=>r.transaction.type==="income"?"bg-teal-100 dark:bg-teal-900":"bg-coral-100 dark:bg-coral-900"),C=l(()=>r.transaction.type==="income"?"text-teal-600 dark:text-teal-400":"text-coral-600 dark:text-coral-400"),_=l(()=>{switch(r.transaction.flag){case"transfer_in":case"transfer_out":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"debt_payment":case"debt_collect":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";case"initial_balance":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}}),T=l(()=>{const a=R(r.transaction.amount,"decimal");return`${r.transaction.type==="income"?"+":"-"}Rp ${a}`}),$=()=>{g.value=!g.value},x=a=>{p("action",a,r.transaction.id),g.value=!1};return(a,e)=>(n(),o(y,null,[t("div",U,[t("div",G,[t("div",{class:u(["flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center",w.value])},[(n(),D(E(v.value),{class:u(["w-5 h-5",C.value])},null,8,["class"]))],2),t("div",J,[t("div",O,[t("div",Q,[t("h4",W,i(a.transaction.note||`Transaksi ${a.transaction.type==="income"?"Pemasukan":"Pengeluaran"}`),1),t("div",X,[t("button",{onClick:e[0]||(e[0]=s=>p("accountClick",a.transaction.account_id)),class:"flex items-center gap-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded px-1 py-0.5 -mx-1 transition-colors duration-200"},[c(d(P),{class:"w-3 h-3"}),t("span",null,i(a.transaction.account?.name||"Akun Tidak Diketahui"),1)]),e[6]||(e[6]=t("span",{class:"text-gray-300 dark:text-gray-600"},"â€¢",-1)),t("button",{onClick:e[1]||(e[1]=s=>p("categoryClick",a.transaction.transaction_category_id)),class:"flex items-center gap-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded px-1 py-0.5 -mx-1 transition-colors duration-200"},[t("div",{class:u(["w-2 h-2 rounded-full",a.transaction.category?.type==="income"?"bg-teal-500":"bg-coral-500"])},null,2),t("span",null,i(a.transaction.category?.name||"Kategori Tidak Diketahui"),1)])]),t("div",Y,[a.transaction.flag!=="normal"?(n(),o("span",{key:0,class:u(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",_.value])},i(a.transaction.flag_label),3)):m("",!0),a.transaction.tags&&a.transaction.tags.length>0?(n(),o("div",Z,[c(d(S),{class:"w-3 h-3 text-gray-400"}),t("div",tt,[(n(!0),o(y,null,V(a.transaction.tags.slice(0,2),s=>(n(),o("span",{key:s.id,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"},i(s.name),1))),128)),a.transaction.tags.length>2?(n(),o("span",et," +"+i(a.transaction.tags.length-2),1)):m("",!0)])])):m("",!0)])]),t("div",at,[t("div",rt,[t("div",{class:u(["text-sm font-semibold",h.value])},i(T.value),3)]),t("div",st,[t("button",{onClick:$,class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"},[c(d(F),{class:"w-4 h-4"})])])])])])])]),g.value?(n(),o("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e[5]||(e[5]=N(s=>g.value=!1,["self"]))},[t("div",nt,[t("div",ot,[t("button",{onClick:e[2]||(e[2]=s=>x("view")),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200"},[c(d(q),{class:"w-4 h-4"}),e[7]||(e[7]=f(" Lihat Detail ",-1))]),t("button",{onClick:e[3]||(e[3]=s=>x("edit")),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200"},[c(d(H),{class:"w-4 h-4"}),e[8]||(e[8]=f(" Edit Transaksi ",-1))]),e[10]||(e[10]=t("hr",{class:"my-1 border-gray-200 dark:border-gray-600"},null,-1)),t("button",{onClick:e[4]||(e[4]=s=>x("delete")),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200"},[c(d(I),{class:"w-4 h-4"}),e[9]||(e[9]=f(" Hapus Transaksi ",-1))])])])])):m("",!0)],64))}}),ht=K(it,[["__scopeId","data-v-ffa0babb"]]);export{ht as default};
