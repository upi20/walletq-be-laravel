import{d as Z,z as ee,k as te,A as p,B as ae,c as D,h as f,o as r,w as v,f as s,e as t,a as u,b as y,u as e,j as se,m as w,p as h,t as l,F as E,q as T,s as re,v as oe,r as le,g as ne,C as I}from"./app-BgYvmUhM.js";import{f as j,P as N,F as ce}from"./FinancialAppLayout-CTtbqS6L.js";import{u as ie,_ as de,C as A,a as q}from"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-CDZLl7z2.js";import{A as ue}from"./arrow-left-CF-MH9x6.js";import{c as x}from"./createLucideIcon-Dqfs-uYg.js";import{C as he}from"./check-B6iGktad.js";import"./useDarkMode-CvB1J8o4.js";import"./x-CytxirFv.js";import"./trending-up-bmSCmcWV.js";import"./sun-CJwd_SWv.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=x("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=x("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=x("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=x("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=x("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=x("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ve={class:"mb-1"},ye={class:"flex items-center justify-between mb-4"},ke={class:"flex items-center gap-2"},be={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},_e={class:"flex items-center gap-3 mb-2"},we={class:"w-10 h-10 bg-gradient-to-r from-teal-500 to-coral-500 rounded-xl flex items-center justify-center"},Ce={class:"text-xs"},Se={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 mb-6 mt-5"},Te={class:"flex flex-col sm:flex-row gap-4"},je=["placeholder"],Ae={class:"flex items-center gap-2"},Me={class:"flex items-center bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden"},Fe={key:1,class:"text-center py-16"},$e={class:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6"},Be={class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},Ve={class:"text-gray-600 dark:text-gray-400 mb-6"},Pe={key:2,class:"text-center py-12"},De={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},Ee={class:"text-gray-600 dark:text-gray-400"},Ie={key:3,class:"grid grid-cols-1 gap-1 mb-20"},Ne={class:"flex items-start justify-between"},qe=["onClick"],ze={class:"ms-2 w-8 h-8 bg-gradient-to-r from-teal-100 to-coral-100 dark:from-teal-900 dark:to-coral-900 rounded-md flex items-center justify-center"},He={class:"font-semibold text-gray-900 dark:text-white group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors"},Le={class:"flex items-center gap-2 mb-1"},Ue={class:"text-xs text-teal-700"},Oe={class:"relative"},Ke=["onClick"],Ge={key:0,class:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10"},Qe=["onClick"],ot=Z({__name:"Index",props:{accounts:{},categories:{},filters:{}},setup(H){const k=H,L=ee().props.auth?.user.balance||0,{trans:o}=ie(),{success:M,error:F,warning:U,info:$}=te(),b=p(null),O=a=>{b.value=b.value===a?null:a},C=p(k.filters.search||""),S=p(!1),K=()=>{S.value=!S.value};let i=null;const G=a=>{if(a.key==="Enter"){i&&(clearTimeout(i),i=null),_();return}i&&clearTimeout(i),i=setTimeout(()=>{_(),i=null},500)};ae(()=>{i&&(clearTimeout(i),i=null)});const m=p("name"),d=p("asc"),B=D(()=>Array.isArray(k.accounts)?k.accounts.slice():[]),_=()=>{I.get("/settings/accounts",{search:C.value,sortField:m.value,sortOrder:d.value},{preserveState:!0,preserveScroll:!0,only:["accounts"]})},V=a=>{m.value===a?d.value=d.value==="asc"?"desc":"asc":(m.value=a,d.value="asc"),_()},Q=a=>{confirm(`${o("accounts.delete_confirmation")} "${a.name}"?`)&&I.delete(`/settings/accounts/${a.id}`,{onStart:()=>{$("Menghapus akun...",{message:"Sedang memproses permintaan Anda.",duration:2e3})},onSuccess:()=>{M("Akun berhasil dihapus!",{message:`Akun "${a.name}" telah dihapus dari sistem.`,duration:5e3})},onError:()=>{F("Gagal menghapus akun",{message:"Terjadi kesalahan saat menghapus akun. Silakan coba lagi.",persistent:!0})}})},J=()=>{M("Operasi berhasil!",{message:"Data telah disimpan dengan baik.",duration:4e3}),setTimeout(()=>{F("Terjadi kesalahan sistem",{message:"Hubungi administrator jika masalah berlanjut.",persistent:!0})},1e3),setTimeout(()=>{U("Peringatan penting",{message:"Pastikan data yang dimasukkan sudah benar.",duration:6e3})},2e3),setTimeout(()=>{$("Informasi sistem",{message:"Pemeliharaan sistem dijadwalkan pada hari Minggu.",duration:5e3})},3e3)};document.addEventListener("click",a=>{a.target.closest(".group")||(b.value=null)});const g=p([]),R=a=>{g.value.includes(a)?g.value=g.value.filter(n=>n!==a):g.value.push(a)},W=a=>g.value.includes(a),X=D(()=>k.accounts.filter(a=>g.value.includes(a.id)).reduce((a,n)=>Number(a)+Number(n.current_balance),0));return(a,n)=>(r(),f(ce,{showHeader:!1,showFab:!1},{default:v(()=>[s(e(se),{title:e(o)("accounts.title")},null,8,["title"]),t("div",ve,[t("div",ye,[s(e(w),{href:"/settings",class:"inline-flex items-center text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 transition-colors"},{default:v(()=>[s(e(ue),{class:"w-4 h-4 mr-2"}),h(" "+l(e(o)("settings.back_to_settings")),1)]),_:1}),t("div",ke,[s(de),t("button",{onClick:J,class:"px-3 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 shadow-md hover:shadow-lg",title:"Demo Toast Notifications"}," ðŸ”” Demo ")])]),t("div",be,[t("div",null,[t("div",_e,[t("div",we,[s(e(A),{class:"w-5 h-5 text-white"})]),t("div",null,[n[3]||(n[3]=t("h1",{class:"text-1xl font-bold bg-gradient-to-r from-teal-600 to-coral-600 bg-clip-text text-transparent"}," Total Saldo ",-1)),t("h3",Ce,[h(l(e(j)(e(L)))+" ",1),g.value.length>0?(r(),u(E,{key:0},[h(" | Dipilih : "+l(e(j)(X.value)),1)],64)):y("",!0)])])])])])]),S.value?(r(),u("div",Se,[t("div",Te,[t("form",{class:"relative flex-1",onSubmit:T(_,["prevent"])},[s(e(fe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),re(t("input",{"onUpdate:modelValue":n[0]||(n[0]=c=>C.value=c),type:"search",placeholder:e(o)("accounts.search_placeholder"),class:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent",onKeyup:G},null,40,je),[[oe,C.value]])],32),t("div",Ae,[t("div",Me,[t("button",{onClick:n[1]||(n[1]=T(c=>V("name"),["prevent"])),class:"px-3 py-2 text-sm flex items-center gap-2"},[h(l(e(o)("common.name"))+" ",1),m.value==="name"&&d.value==="asc"?(r(),f(e(z),{key:0,class:"w-4 h-4"})):m.value==="name"&&d.value==="desc"?(r(),f(e(q),{key:1,class:"w-4 h-4"})):y("",!0)]),t("button",{onClick:n[2]||(n[2]=T(c=>V("current_balance"),["prevent"])),class:"px-3 py-2 text-sm flex items-center gap-2 border-l border-gray-200 dark:border-gray-700"},[h(l(e(o)("accounts.balance"))+" ",1),m.value==="current_balance"&&d.value==="asc"?(r(),f(e(z),{key:0,class:"w-4 h-4"})):m.value==="current_balance"&&d.value==="desc"?(r(),f(e(q),{key:1,class:"w-4 h-4"})):y("",!0)])])])])])):y("",!0),a.accounts.length===0?(r(),u("div",Fe,[t("div",$e,[s(e(A),{class:"w-12 h-12 text-gray-400"})]),t("h3",Be,l(e(o)("accounts.no_accounts")),1),t("p",Ve,l(e(o)("accounts.no_accounts_subtitle")),1),s(e(w),{href:"/settings/accounts/create",class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-coral-600 text-white rounded-xl font-medium hover:from-teal-700 hover:to-coral-700 transition-all duration-200"},{default:v(()=>[s(e(N),{class:"w-5 h-5 mr-2"}),h(" "+l(e(o)("accounts.create_account")),1)]),_:1})])):B.value.length===0?(r(),u("div",Pe,[t("h3",De,l(e(o)("accounts.no_results")),1),t("p",Ee,l(e(o)("accounts.no_results_subtitle")),1)])):(r(),u("div",Ie,[(r(!0),u(E,null,le(B.value,(c,Y)=>(r(),u("div",{key:c.id,class:ne(["group rounded-md p-0 shadow-sm border transition-all duration-300",Y%2===0?"bg-white dark:bg-gray-800 border-none hover:shadow-lg hover:shadow-teal-500/10":"bg-teal-50 dark:bg-teal-900/20 border-none hover:shadow-lg hover:shadow-coral-500/10"])},[t("div",Ne,[t("div",{class:"flex items-center gap-3",onClick:P=>R(c.id)},[t("div",ze,[W(c.id)==!1?(r(),f(e(A),{key:0,class:"w-6 h-6 text-teal-600 dark:text-teal-400"})):(r(),f(e(he),{key:1,class:"w-6 h-6 text-teal-600 dark:text-teal-400"}))]),t("div",null,[t("h3",He,l(c.name),1),t("div",Le,[t("span",Ue,l(e(j)(c.current_balance)),1)])])],8,qe),t("div",Oe,[t("button",{class:"w-8 h-8 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors mt-2",onClick:P=>O(c.id)},[s(e(me),{class:"w-4 h-4 text-gray-400"})],8,Ke),b.value===c.id?(r(),u("div",Ge,[s(e(w),{href:`/settings/accounts/${c.id}/edit`,class:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},{default:v(()=>[s(e(pe),{class:"w-4 h-4 mr-3"}),h(" "+l(e(o)("accounts.edit_account")),1)]),_:2},1032,["href"]),t("button",{onClick:P=>Q(c),class:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"},[s(e(xe),{class:"w-4 h-4 mr-3"}),h(" "+l(e(o)("accounts.delete_account")),1)],8,Qe)])):y("",!0)])])],2))),128))])),t("button",{onClick:K,class:"fixed bottom-20 left-6 w-14 h-14 bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-105 active:scale-95"},[s(e(ge),{class:"w-6 h-6 text-white"})]),s(e(w),{href:"/settings/accounts/create",title:e(o)("accounts.add_account"),class:"fixed bottom-20 right-6 w-14 h-14 bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-105 active:scale-95"},{default:v(()=>[s(e(N),{class:"w-6 h-6 text-white"})]),_:1},8,["title"])]),_:1}))}});export{ot as default};
