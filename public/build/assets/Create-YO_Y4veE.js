import{d as A,m as F,p as V,q as N,h as B,o as l,w as b,f as d,e as t,u as e,j,l as x,k as u,t as s,s as T,v as f,a as c,b as m,g,x as k,F as L,r as M,y as U}from"./app-DiUTJyO5.js";import{F as z}from"./FinancialAppLayout-CFa_U7sL.js";import{u as D}from"./useTranslation-VILxPNR3.js";import{_ as E}from"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-cQWZngxx.js";import{A as I}from"./arrow-left-B1dTIe6p.js";import{C as K}from"./credit-card-Camh_JO7.js";import{S as R}from"./save-CWPPYPeJ.js";import"./useDarkMode-CxWBGi-X.js";import"./formatCurrency-6zMsDc4Z.js";import"./createLucideIcon-Q3JMls56.js";import"./x-BZ8hJlM6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./trending-up-7awjo4lm.js";import"./settings-m4fMQXqo.js";import"./sun-BkabMr88.js";import"./chevron-down-L7Q_gKco.js";const $={class:"mb-8"},q={class:"flex items-center justify-between"},G={class:"flex items-center gap-3 mb-2"},H={class:"w-10 h-10 bg-gradient-to-r from-teal-500 to-coral-500 rounded-xl flex items-center justify-center"},J={class:"text-3xl font-bold bg-gradient-to-r from-teal-600 to-coral-600 bg-clip-text text-transparent"},O={class:"text-gray-600 dark:text-gray-300"},P={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},Q={for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},W=["placeholder"],X={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Y={for:"category",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Z={value:""},ee=["value"],te={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ae={for:"balance",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},re={class:"relative"},se=["value"],oe={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ne={for:"note",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},ie=["placeholder"],le={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},de={class:"pt-6 border-t border-gray-200 dark:border-gray-700"},ce={class:"flex gap-4"},ue=["disabled"],Te=A({__name:"Create",props:{categories:{}},setup(me){const{trans:o}=D(),{success:h,error:p,warning:ge,info:pe}=F(),{confirmAction:w,alert:be}=V(),a=N({name:"",note:"",account_category_id:"",initial_balance:0}),v=async()=>{a.initial_balance>1e7&&!await w("Konfirmasi Saldo Besar",`Anda akan membuat akun dengan saldo awal ${S(a.initial_balance.toString())}. Apakah data ini sudah benar?`)||a.post("/settings/accounts",{onStart:()=>{},onSuccess:()=>{h("Akun berhasil dibuat!",{message:"Akun baru telah ditambahkan ke daftar akun Anda.",duration:5e3})},onError:n=>{n.name?p("Nama akun diperlukan",{message:"Silakan masukkan nama untuk akun baru.",duration:4e3}):n.account_category_id?p("Kategori akun diperlukan",{message:"Silakan pilih kategori untuk akun baru.",duration:4e3}):p("Gagal membuat akun",{message:"Terjadi kesalahan saat menyimpan data akun. Silakan coba lagi.",persistent:!0})}})},S=n=>{const r=parseFloat(n.replace(/[^0-9.-]/g,""));return isNaN(r)?0:r},_=n=>(typeof n=="string"?parseFloat(n)||0:n).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),C=n=>{const r=n.target,i=r.value.replace(/\./g,""),y=parseFloat(i)||0;a.initial_balance=y,r.value=_(y)};return(n,r)=>(l(),B(z,{showHeader:!1,showFab:!1,containerClass:"px-3 pt-6 pb-32"},{default:b(()=>[d(e(j),{title:"Create Account"}),t("div",$,[t("div",q,[d(e(x),{href:"/settings/accounts",class:"inline-flex items-center text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 transition-colors mb-4"},{default:b(()=>[d(e(I),{class:"w-4 h-4 mr-2"}),u(" "+s(e(o)("settings.items.accounts.back_to_list")),1)]),_:1}),d(E)]),t("div",G,[t("div",H,[d(e(K),{class:"w-5 h-5 text-white"})]),t("h1",J,s(e(o)("settings.items.accounts.title_create")),1)]),t("p",O,s(e(o)("settings.items.accounts.note_create")),1)]),t("div",P,[t("form",{onSubmit:T(v,["prevent"]),class:"space-y-6"},[t("div",null,[t("label",Q,[u(s(e(o)("settings.items.accounts.form.name"))+" ",1),r[3]||(r[3]=t("span",{class:"text-red-500"},"*",-1))]),f(t("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=i=>e(a).name=i),type:"text",placeholder:e(o)("settings.items.accounts.form.name_placeholder"),class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent",{"border-red-500":e(a).errors.name}])},null,10,W),[[k,e(a).name]]),e(a).errors.name?(l(),c("p",X,s(e(a).errors.name),1)):m("",!0)]),t("div",null,[t("label",Y,[u(s(e(o)("settings.items.accounts.form.category"))+" ",1),r[4]||(r[4]=t("span",{class:"text-red-500"},"*",-1))]),f(t("select",{id:"category","onUpdate:modelValue":r[1]||(r[1]=i=>e(a).account_category_id=i),class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent",{"border-red-500":e(a).errors.account_category_id}])},[t("option",Z,s(e(o)("settings.items.accounts.form.category_first_option")),1),(l(!0),c(L,null,M(n.categories,i=>(l(),c("option",{key:i.id,value:i.id},s(i.name),9,ee))),128))],2),[[U,e(a).account_category_id]]),e(a).errors.account_category_id?(l(),c("p",te,s(e(a).errors.account_category_id),1)):m("",!0)]),t("div",null,[t("label",ae,s(e(o)("settings.items.accounts.form.initial_balance")),1),t("div",re,[r[5]||(r[5]=t("div",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}," Rp ",-1)),t("input",{id:"balance",value:_(e(a).initial_balance),onInput:C,type:"text",inputmode:"numeric",class:g(["w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent",{"border-red-500":e(a).errors.initial_balance}])},null,42,se)]),e(a).errors.initial_balance?(l(),c("p",oe,s(e(a).errors.initial_balance),1)):m("",!0)]),t("div",null,[t("label",ne,s(e(o)("settings.items.accounts.form.note")),1),f(t("textarea",{id:"note","onUpdate:modelValue":r[2]||(r[2]=i=>e(a).note=i),rows:"3",placeholder:e(o)("settings.items.accounts.form.note_placeholder"),class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none",{"border-red-500":e(a).errors.note}])},null,10,ie),[[k,e(a).note]]),e(a).errors.note?(l(),c("p",le,s(e(a).errors.note),1)):m("",!0)]),t("div",de,[t("div",ce,[t("button",{type:"submit",disabled:e(a).processing,class:"flex-1 flex items-center justify-center px-6 py-3 bg-gradient-to-r from-teal-600 to-coral-600 text-white rounded-xl font-medium hover:from-teal-700 hover:to-coral-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"},[d(e(R),{class:"w-5 h-5 mr-2"}),u(" "+s(e(a).processing?e(o)("settings.items.accounts.btn.save_progress"):e(o)("settings.items.accounts.btn.save")),1)],8,ue),d(e(x),{href:"/settings/accounts",class:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},{default:b(()=>[u(s(e(o)("settings.items.accounts.btn.cancel")),1)]),_:1})])])],32)])]),_:1}))}});export{Te as default};
