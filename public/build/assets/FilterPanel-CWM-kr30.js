import{d as S,z as A,c as R,P as B,a as o,o as l,e,f as n,u as i,k as u,v as g,x as p,y as x,F as y,r as c,t as d,b as N,g as $}from"./app-Dzrympp2.js";import{F as I}from"./filter-Ba4pT2Ca.js";import{c as L}from"./createLucideIcon-B7qgmNWB.js";import{X as O}from"./x-Cwser7SP.js";import{C as j}from"./calendar-9mxTvl9T.js";import{C as z}from"./credit-card-Bnda4ukQ.js";import{F as q}from"./folder-open-dvtushuM.js";import{T as E}from"./tag-BoXurSex.js";import{D as J}from"./dollar-sign-DKpR5NFY.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=L("RotateCcwIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),G={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg"},H={class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"},Q={class:"flex items-center gap-2"},W={class:"flex items-center gap-2"},Y={class:"p-4 space-y-6"},Z={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},ee={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},te=["value"],re={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},ae={class:"max-h-40 overflow-y-auto space-y-2 border border-gray-200 dark:border-gray-700 rounded-lg p-3"},se=["checked","onChange"],oe={class:"flex-1"},le={class:"text-sm font-medium text-gray-900 dark:text-white"},de={class:"text-xs text-gray-500 dark:text-gray-400"},ne={key:0},ie={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},ge={class:"max-h-40 overflow-y-auto space-y-2 border border-gray-200 dark:border-gray-700 rounded-lg p-3"},ue=["checked","onChange"],ye={class:"text-sm text-gray-900 dark:text-white"},ce={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},be={class:"max-h-32 overflow-y-auto space-y-2 border border-gray-200 dark:border-gray-700 rounded-lg p-3"},me=["checked","onChange"],pe={class:"text-sm text-gray-900 dark:text-white"},xe={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},ke={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},ve={class:"grid grid-cols-1 sm:grid-cols-2 gap-2"},fe=["checked","onChange"],he={class:"text-sm text-gray-900 dark:text-white"},_e={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},we=["value"],Ce=["value"],Fe={class:"flex items-center justify-between p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50"},De={class:"flex gap-3"},Te=["disabled"],Ve=S({__name:"FilterPanel",props:{filters:{},masterData:{},loading:{type:Boolean}},emits:["applyFilters","clearFilters","close"],setup(w,{emit:C}){const b=w,k=C,a=A({...b.filters}),F=R(()=>a.value.type==="income"?b.masterData.income_categories:a.value.type==="expense"?b.masterData.expense_categories:[...b.masterData.income_categories,...b.masterData.expense_categories]),v=(s,r)=>{const t=s||[];return t.indexOf(r)>-1?t.filter(f=>f!==r):[...t,r]},D=(s,r)=>{const t=s||[];return t.indexOf(r)>-1?t.filter(f=>f!==r):[...t,r]},T=s=>{a.value.account_ids=v(a.value.account_ids,s)},V=s=>{a.value.category_ids=v(a.value.category_ids,s)},U=s=>{a.value.tag_ids=v(a.value.tag_ids,s)},M=s=>{a.value.flags=D(a.value.flags,s)},P=()=>{k("applyFilters",{...a.value})},h=()=>{k("clearFilters")},_=()=>{k("close")};return B(()=>a.value.type,()=>{a.value.category_ids=[]}),(s,r)=>(l(),o("div",G,[e("div",H,[e("div",Q,[n(i(I),{class:"w-5 h-5 text-teal-600 dark:text-teal-400"}),r[8]||(r[8]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Filter Transaksi",-1))]),e("div",W,[e("button",{onClick:h,class:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",title:"Reset filter"},[n(i(X),{class:"w-4 h-4"})]),e("button",{onClick:_,class:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"},[n(i(O),{class:"w-4 h-4"})])])]),e("div",Y,[e("div",null,[e("label",Z,[n(i(j),{class:"w-4 h-4"}),r[9]||(r[9]=u(" Rentang Tanggal ",-1))]),e("div",ee,[e("div",null,[r[10]||(r[10]=e("label",{class:"text-xs text-gray-500 dark:text-gray-400"},"Dari",-1)),g(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>a.value.date_from=t),type:"date",class:"w-full mt-1 px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},null,512),[[p,a.value.date_from]])]),e("div",null,[r[11]||(r[11]=e("label",{class:"text-xs text-gray-500 dark:text-gray-400"},"Sampai",-1)),g(e("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>a.value.date_to=t),type:"date",class:"w-full mt-1 px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},null,512),[[p,a.value.date_to]])])])]),e("div",null,[r[12]||(r[12]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 block"}," Tipe Transaksi ",-1)),g(e("select",{"onUpdate:modelValue":r[2]||(r[2]=t=>a.value.type=t),class:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},[(l(!0),o(y,null,c(s.masterData.type_options,t=>(l(),o("option",{key:t.value,value:t.value},d(t.label),9,te))),128))],512),[[x,a.value.type]])]),e("div",null,[e("label",re,[n(i(z),{class:"w-4 h-4"}),r[13]||(r[13]=u(" Akun ",-1))]),e("div",ae,[(l(!0),o(y,null,c(s.masterData.accounts,t=>(l(),o("label",{key:t.id,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.account_ids?.includes(t.id),onChange:m=>T(t.id),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500"},null,40,se),e("div",oe,[e("div",le,d(t.name),1),e("div",de,[u(d(t.formatted_balance)+" ",1),t.category?(l(),o("span",ne,"â€¢ "+d(t.category.name),1)):N("",!0)])])]))),128))])]),e("div",null,[e("label",ie,[n(i(q),{class:"w-4 h-4"}),r[14]||(r[14]=u(" Kategori ",-1))]),e("div",ge,[(l(!0),o(y,null,c(F.value,t=>(l(),o("label",{key:t.id,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.category_ids?.includes(t.id),onChange:m=>V(t.id),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500"},null,40,ue),e("div",ye,[u(d(t.name)+" ",1),e("span",{class:$(["ml-2 text-xs px-2 py-1 rounded-full",t.type==="income"?"bg-teal-100 text-teal-700 dark:bg-teal-900 dark:text-teal-300":"bg-coral-100 text-coral-700 dark:bg-coral-900 dark:text-coral-300"])},d(t.type==="income"?"Pemasukan":"Pengeluaran"),3)])]))),128))])]),e("div",null,[e("label",ce,[n(i(E),{class:"w-4 h-4"}),r[15]||(r[15]=u(" Tag ",-1))]),e("div",be,[(l(!0),o(y,null,c(s.masterData.tags,t=>(l(),o("label",{key:t.id,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.tag_ids?.includes(t.id),onChange:m=>U(t.id),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500"},null,40,me),e("span",pe,d(t.name),1)]))),128))])]),e("div",null,[e("label",xe,[n(i(J),{class:"w-4 h-4"}),r[16]||(r[16]=u(" Rentang Jumlah ",-1))]),e("div",ke,[e("div",null,[r[17]||(r[17]=e("label",{class:"text-xs text-gray-500 dark:text-gray-400"},"Minimal",-1)),g(e("input",{"onUpdate:modelValue":r[3]||(r[3]=t=>a.value.amount_min=t),type:"number",min:"0",step:"1000",placeholder:"0",class:"w-full mt-1 px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},null,512),[[p,a.value.amount_min,void 0,{number:!0}]])]),e("div",null,[r[18]||(r[18]=e("label",{class:"text-xs text-gray-500 dark:text-gray-400"},"Maksimal",-1)),g(e("input",{"onUpdate:modelValue":r[4]||(r[4]=t=>a.value.amount_max=t),type:"number",min:"0",step:"1000",placeholder:"Tidak terbatas",class:"w-full mt-1 px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},null,512),[[p,a.value.amount_max,void 0,{number:!0}]])])])]),e("div",null,[r[19]||(r[19]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 block"}," Status Transaksi ",-1)),e("div",ve,[(l(!0),o(y,null,c(s.masterData.flag_options,t=>(l(),o("label",{key:t.value,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.flags?.includes(t.value),onChange:m=>M(t.value),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500"},null,40,fe),e("span",he,d(t.label),1)]))),128))])]),e("div",_e,[e("div",null,[r[20]||(r[20]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block"}," Urutkan berdasarkan ",-1)),g(e("select",{"onUpdate:modelValue":r[5]||(r[5]=t=>a.value.sort_by=t),class:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},[(l(!0),o(y,null,c(s.masterData.sort_options,t=>(l(),o("option",{key:t.value,value:t.value},d(t.label),9,we))),128))],512),[[x,a.value.sort_by]])]),e("div",null,[r[22]||(r[22]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block"}," Urutan ",-1)),g(e("select",{"onUpdate:modelValue":r[6]||(r[6]=t=>a.value.sort_order=t),class:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},r[21]||(r[21]=[e("option",{value:"desc"},"Menurun",-1),e("option",{value:"asc"},"Menaik",-1)]),512),[[x,a.value.sort_order]])]),e("div",null,[r[23]||(r[23]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block"}," Per halaman ",-1)),g(e("select",{"onUpdate:modelValue":r[7]||(r[7]=t=>a.value.per_page=t),class:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},[(l(!0),o(y,null,c(s.masterData.per_page_options,t=>(l(),o("option",{key:t.value,value:t.value},d(t.label),9,Ce))),128))],512),[[x,a.value.per_page,void 0,{number:!0}]])])])]),e("div",Fe,[e("button",{onClick:h,class:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors duration-200"}," Reset Semua "),e("div",De,[e("button",{onClick:_,class:"px-4 py-2 border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200"}," Batal "),e("button",{onClick:P,disabled:s.loading,class:"px-6 py-2 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-lg hover:from-teal-600 hover:to-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},d(s.loading?"Memuat...":"Terapkan Filter"),9,Te)])])]))}}),Le=K(Ve,[["__scopeId","data-v-86b242bd"]]);export{Le as default};
