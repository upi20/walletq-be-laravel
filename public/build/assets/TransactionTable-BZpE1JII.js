import{c as M}from"./createLucideIcon-BrtC0Uv1.js";import{C as N}from"./calendar-eHUTucpJ.js";import{T as j}from"./tag-rDitb8S8.js";import{C as P}from"./credit-card-CNndoU9e.js";import{E as q,T as H,C as K}from"./trash-2-CTDHAfjs.js";import{E as U}from"./eye-C17bTGA2.js";import{S as J}from"./square-pen-bMmBmBNM.js";import{C as O}from"./chevron-down-DXxb9aJE.js";import{T as Z}from"./trending-up-CVuSJvlS.js";import{T as G}from"./trending-down-CTZWx2iI.js";import{A as Q}from"./arrow-right-left-CXRiodTE.js";import{d as W,z as X,c as _,a as l,o,e,b as i,F as h,r as f,f as c,u as g,g as u,h as v,t as n,i as w,k as x}from"./app-CPrgc6lz.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=M("ReceiptIcon",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),ee={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm overflow-hidden"},te={key:0,class:"absolute inset-0 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm z-10 flex items-center justify-center"},se={class:"overflow-x-auto"},re={class:"w-full"},ae={class:"bg-gray-50 dark:bg-gray-700/50"},oe={class:"w-12 px-4 py-3"},le=["checked","indeterminate"],ne=["onClick"],de={class:"flex items-center gap-2"},ie={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ce={class:"px-4 py-4"},ge=["checked","onChange"],ue={class:"px-4 py-4"},ye={class:"flex items-center gap-2"},me={class:"text-sm font-medium text-gray-900 dark:text-white"},pe={class:"text-xs text-gray-500 dark:text-gray-400"},he={class:"px-4 py-4"},xe={class:"flex items-start gap-3"},ke={class:"flex-1 min-w-0"},be={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},_e={class:"flex items-center gap-2 mt-1"},fe={key:1,class:"flex items-center gap-1"},ve={class:"text-xs text-gray-500 dark:text-gray-400"},we={class:"px-4 py-4"},Ce={class:"flex items-center gap-2"},Te={class:"text-sm font-medium text-gray-900 dark:text-white"},De={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Se={class:"px-4 py-4"},Ae={class:"flex items-center gap-2"},Ie={class:"text-sm text-gray-900 dark:text-white"},Be={class:"px-4 py-4"},$e={class:"text-right"},ze={class:"text-xs text-gray-500 dark:text-gray-400"},Ee={class:"px-4 py-4 text-right"},Fe={class:"relative"},Le=["onClick"],Re={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-20"},Ve={class:"py-1"},Me=["onClick"],Ne=["onClick"],je=["onClick"],Pe={key:1,class:"p-12 text-center"},qe={class:"text-gray-400 mb-4"},He=W({__name:"TransactionTable",props:{transactions:{},loading:{type:Boolean},selectedTransactions:{},currentSort:{}},emits:["sortChange","selectionChange","action"],setup(T,{emit:D}){const a=T,m=D,y=X(null),S=s=>{let r="desc";a.currentSort?.by===s&&(r=a.currentSort.order==="desc"?"asc":"desc"),m("sortChange",{sort_by:s,sort_order:r})},k=s=>a.currentSort?.by!==s?null:a.currentSort.order==="desc"?O:K,A=s=>{y.value=y.value===s?null:s},p=(s,r)=>{m("action",s,r),y.value=null},I=s=>{const r=a.selectedTransactions||[],t=r.includes(s)?r.filter(d=>d!==s):[...r,s];m("selectionChange",t)},B=()=>{const s=a.transactions.map(t=>t.id),r=s.every(t=>a.selectedTransactions?.includes(t));m("selectionChange",r?[]:s)},b=s=>a.selectedTransactions?.includes(s)||!1,$=_(()=>a.transactions.length?a.transactions.every(s=>a.selectedTransactions?.includes(s.id)):!1),z=_(()=>{const s=a.selectedTransactions?.length||0;return s>0&&s<a.transactions.length}),E=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s).replace("Rp","Rp "),F=s=>new Date(s).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}),L=s=>{switch(s.flag){case"transfer_in":case"transfer_out":return Q;case"debt_payment":case"debt_collect":return C;default:return s.type==="income"?Z:G}},R=s=>s.type==="income"?"text-teal-600 dark:text-teal-400":"text-coral-600 dark:text-coral-400",V=s=>{switch(s){case"transfer_in":case"transfer_out":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"debt_payment":case"debt_collect":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";case"initial_balance":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};return(s,r)=>(o(),l(h,null,[e("div",ee,[s.loading?(o(),l("div",te,r[1]||(r[1]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"},null,-1)]))):i("",!0),e("div",se,[e("table",re,[e("thead",ae,[e("tr",null,[e("th",oe,[e("input",{type:"checkbox",checked:$.value,indeterminate:z.value,onChange:B,class:"text-teal-600 border-gray-300 dark:border-gray-600 rounded focus:ring-teal-500"},null,40,le)]),(o(),l(h,null,f([{key:"date",label:"Tanggal",sortable:!0},{key:"description",label:"Deskripsi",sortable:!1},{key:"account",label:"Akun",sortable:!0},{key:"category",label:"Kategori",sortable:!0},{key:"amount",label:"Jumlah",sortable:!0},{key:"actions",label:"",sortable:!1}],t=>e("th",{key:t.key,class:u(["px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",t.sortable?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 select-none":""]),onClick:d=>t.sortable?S(t.key):null},[e("div",de,[e("span",null,n(t.label),1),t.sortable&&k(t.key)?(o(),v(w(k(t.key)),{key:0,class:"w-4 h-4"})):i("",!0)])],10,ne)),64))])]),e("tbody",ie,[(o(!0),l(h,null,f(s.transactions,t=>(o(),l("tr",{key:t.id,class:u(["hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200",b(t.id)?"bg-teal-50 dark:bg-teal-900/20":""])},[e("td",ce,[e("input",{type:"checkbox",checked:b(t.id),onChange:d=>I(t.id),class:"text-teal-600 border-gray-300 dark:border-gray-600 rounded focus:ring-teal-500"},null,40,ge)]),e("td",ue,[e("div",ye,[c(g(N),{class:"w-4 h-4 text-gray-400"}),e("div",null,[e("div",me,n(F(t.date)),1),e("div",pe,n(new Date(t.date).toLocaleDateString("id-ID",{weekday:"short"})),1)])])]),e("td",he,[e("div",xe,[e("div",{class:u(["flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center",t.type==="income"?"bg-teal-100 dark:bg-teal-900":"bg-coral-100 dark:bg-coral-900"])},[(o(),v(w(L(t)),{class:u(["w-5 h-5",t.type==="income"?"text-teal-600 dark:text-teal-400":"text-coral-600 dark:text-coral-400"])},null,8,["class"]))],2),e("div",ke,[e("div",be,n(t.note||"Transaksi "+(t.type==="income"?"Pemasukan":"Pengeluaran")),1),e("div",_e,[t.flag!=="normal"?(o(),l("span",{key:0,class:u(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",V(t.flag)])},n(t.flag_label),3)):i("",!0),t.tags&&t.tags.length>0?(o(),l("div",fe,[c(g(j),{class:"w-3 h-3 text-gray-400"}),e("span",ve,n(t.tags.map(d=>d.name).join(", ")),1)])):i("",!0)])])])]),e("td",we,[e("div",Ce,[c(g(P),{class:"w-4 h-4 text-gray-400"}),e("div",null,[e("div",Te,n(t.account?.name||"Akun Tidak Diketahui"),1),t.account?.category?(o(),l("div",De,n(t.account.category.name),1)):i("",!0)])])]),e("td",Se,[e("div",Ae,[e("div",{class:u(["w-3 h-3 rounded-full flex-shrink-0",t.category?.type==="income"?"bg-teal-500":"bg-coral-500"])},null,2),e("span",Ie,n(t.category?.name||"Kategori Tidak Diketahui"),1)])]),e("td",Be,[e("div",$e,[e("div",{class:u(["text-sm font-semibold",R(t)])},n(t.formatted_amount),3),e("div",ze,n(E(t.amount)),1)])]),e("td",Ee,[e("div",Fe,[e("button",{onClick:d=>A(t.id),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"},[c(g(q),{class:"w-4 h-4"})],8,Le),y.value===t.id?(o(),l("div",Re,[e("div",Ve,[e("button",{onClick:d=>p("view",t.id),class:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200"},[c(g(U),{class:"w-4 h-4"}),r[2]||(r[2]=x(" Lihat Detail ",-1))],8,Me),e("button",{onClick:d=>p("edit",t.id),class:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200"},[c(g(J),{class:"w-4 h-4"}),r[3]||(r[3]=x(" Edit ",-1))],8,Ne),r[5]||(r[5]=e("hr",{class:"my-1 border-gray-200 dark:border-gray-600"},null,-1)),e("button",{onClick:d=>p("delete",t.id),class:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200"},[c(g(H),{class:"w-4 h-4"}),r[4]||(r[4]=x(" Hapus ",-1))],8,je)])])):i("",!0)])])],2))),128))])])]),!s.transactions.length&&!s.loading?(o(),l("div",Pe,[e("div",qe,[c(g(C),{class:"w-16 h-16 mx-auto mb-4 opacity-50"}),r[6]||(r[6]=e("p",{class:"text-lg font-medium"},"Tidak ada transaksi",-1)),r[7]||(r[7]=e("p",{class:"text-sm"},"Belum ada transaksi yang ditampilkan",-1))])])):i("",!0)]),y.value?(o(),l("div",{key:0,onClick:r[0]||(r[0]=t=>y.value=null),class:"fixed inset-0 z-10"})):i("",!0)],64))}}),rt=Y(He,[["__scopeId","data-v-40cd1382"]]);export{rt as default};
