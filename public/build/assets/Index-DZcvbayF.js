import{d as z,m as U,p as O,z as c,A as q,c as G,h as g,o,w as f,f as r,e,a as i,b as w,u as s,j as Q,l as v,k as h,s as S,v as J,x as R,F as W,r as X,g as Y,t as Z,B as j}from"./app-CPrgc6lz.js";import{P as A,F as I}from"./FinancialAppLayout-D3F0zkCe.js";import{u as ee}from"./useTranslation-bBv9rTzf.js";import{_ as te}from"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-Di6okPBz.js";import{A as ae}from"./arrow-left-Ck1L4tuS.js";import{H as _}from"./hash-DHTd9zW7.js";import{S as se}from"./search-Csc9uKin.js";import{C as re,E as oe,T as le}from"./trash-2-CTDHAfjs.js";import{C as ne}from"./chevron-down-DXxb9aJE.js";import{C as ie}from"./check-CqkxYTXx.js";import{S as de}from"./square-pen-bMmBmBNM.js";import{F as ce}from"./filter-yuYhfEG1.js";import"./useDarkMode-KqEP1M3r.js";import"./formatCurrency-Dui6J3Fs.js";import"./createLucideIcon-BrtC0Uv1.js";import"./x-BAh1x7y1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./trending-up-CVuSJvlS.js";import"./settings-DhK77KeM.js";import"./sun-4TJGvRWV.js";const ue={class:"mb-1"},me={class:"flex items-center justify-between mb-4"},ge={class:"flex items-center gap-2"},fe={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},he={class:"flex items-center gap-3 mb-2"},xe={class:"w-10 h-10 bg-gradient-to-r from-teal-500 to-coral-500 rounded-xl flex items-center justify-center"},pe={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 mb-6 mt-5"},ve={class:"flex flex-col sm:flex-row gap-4"},be={class:"flex items-center gap-2"},ye={class:"flex items-center bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden"},ke={key:1,class:"text-center py-16"},we={class:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6"},_e={key:2,class:"text-center py-12"},Te={key:3,class:"grid grid-cols-1 gap-3 mb-20"},Ce={class:"flex items-start justify-between"},Se=["onClick"],je={class:"w-8 h-8 bg-gradient-to-r from-teal-100 to-coral-100 dark:from-teal-900 dark:to-coral-900 rounded-md flex items-center justify-center"},Ae={class:"font-semibold text-gray-900 dark:text-white group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors"},Fe={class:"relative"},Be=["onClick"],$e={key:0,class:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10"},Ee=["onClick"],st=z({__name:"Index",props:{tags:{},filters:{}},setup(F){const b=F;ee();const{success:B,error:$,warning:Me,info:Ve}=U(),{confirmDelete:E,confirmAction:He,alert:Ne}=O(),x=c(null),M=a=>{x.value=x.value===a?null:a},y=c(b.filters.search||""),k=c(!1),V=()=>{k.value=!k.value};let n=null;const H=a=>{if(a.key==="Enter"){n&&(clearTimeout(n),n=null),p();return}n&&clearTimeout(n),n=setTimeout(()=>{p(),n=null},500)};q(()=>{n&&(clearTimeout(n),n=null)});const u=c("name"),d=c("asc"),T=G(()=>Array.isArray(b.tags.data)?b.tags.data.slice():[]),p=()=>{j.get("/settings/tags",{search:y.value,sortField:u.value,sortOrder:d.value},{preserveState:!0,preserveScroll:!0,only:["tags"]})},N=a=>{u.value===a?d.value=d.value==="asc"?"desc":"asc":(u.value=a,d.value="asc"),p()},D=async a=>{await E(a.name)&&j.delete(`/settings/tags/${a.id}`,{onStart:()=>{},onSuccess:()=>{B("Tag berhasil dihapus!",{message:`Tag "${a.name}" telah dihapus dari sistem.`,duration:5e3})},onError:()=>{$("Gagal menghapus tag",{message:"Terjadi kesalahan saat menghapus tag. Silakan coba lagi.",persistent:!0})}})};document.addEventListener("click",a=>{a.target.closest(".group")||(x.value=null)});const m=c([]),K=a=>{m.value.includes(a)?m.value=m.value.filter(t=>t!==a):m.value.push(a)},L=a=>m.value.includes(a);return(a,t)=>(o(),g(I,{showHeader:!1,showFab:!1},{default:f(()=>[r(s(Q),{title:"Tag"}),e("div",ue,[e("div",me,[r(s(v),{href:"/settings",class:"inline-flex items-center text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 transition-colors"},{default:f(()=>[r(s(ae),{class:"w-4 h-4 mr-2"}),t[2]||(t[2]=h(" Kembali ke Pengaturan ",-1))]),_:1,__:[2]}),e("div",ge,[r(te)])]),e("div",fe,[e("div",null,[e("div",he,[e("div",xe,[r(s(_),{class:"w-5 h-5 text-white"})]),t[3]||(t[3]=e("div",null,[e("h1",{class:"text-1xl font-bold bg-gradient-to-r from-teal-600 to-coral-600 bg-clip-text text-transparent"}," Tag "),e("h3",{class:"text-xs"}," Kelola tag untuk menandai transaksi Anda ")],-1))])])])]),k.value?(o(),i("div",pe,[e("div",ve,[e("form",{class:"relative flex-1",onSubmit:S(p,["prevent"])},[r(s(se),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),J(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>y.value=l),type:"search",placeholder:"Cari tag...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent",onKeyup:H},null,544),[[R,y.value]])],32),e("div",be,[e("div",ye,[e("button",{onClick:t[1]||(t[1]=S(l=>N("name"),["prevent"])),class:"px-3 py-2 text-sm flex items-center gap-2"},[t[4]||(t[4]=h(" Nama ",-1)),u.value==="name"&&d.value==="asc"?(o(),g(s(re),{key:0,class:"w-4 h-4"})):u.value==="name"&&d.value==="desc"?(o(),g(s(ne),{key:1,class:"w-4 h-4"})):w("",!0)])])])])])):w("",!0),a.tags.data.length===0?(o(),i("div",ke,[e("div",we,[r(s(_),{class:"w-12 h-12 text-gray-400"})]),t[6]||(t[6]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},"Belum ada tag",-1)),t[7]||(t[7]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6"},"Mulai dengan menambahkan tag pertama Anda",-1)),r(s(v),{href:"/settings/tags/create",class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-coral-600 text-white rounded-xl font-medium hover:from-teal-700 hover:to-coral-700 transition-all duration-200"},{default:f(()=>[r(s(A),{class:"w-5 h-5 mr-2"}),t[5]||(t[5]=h(" Tambah Tag ",-1))]),_:1,__:[5]})])):T.value.length===0?(o(),i("div",_e,t[8]||(t[8]=[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Tidak ada hasil",-1),e("p",{class:"text-gray-600 dark:text-gray-400"},"Coba ubah kata kunci pencarian Anda",-1)]))):(o(),i("div",Te,[(o(!0),i(W,null,X(T.value,(l,P)=>(o(),i("div",{key:l.id,class:Y(["group rounded-xl p-4 shadow-sm border transition-all duration-300",P%2===0?"bg-white dark:bg-gray-800 border-none hover:shadow-lg hover:shadow-teal-500/10":"bg-teal-50 dark:bg-teal-900/20 border-none hover:shadow-lg hover:shadow-coral-500/10"])},[e("div",Ce,[e("div",{class:"flex items-center gap-3",onClick:C=>K(l.id)},[e("div",je,[L(l.id)==!1?(o(),g(s(_),{key:0,class:"w-6 h-6 text-teal-600 dark:text-teal-400"})):(o(),g(s(ie),{key:1,class:"w-6 h-6 text-teal-600 dark:text-teal-400"}))]),e("div",null,[e("h3",Ae,Z(l.name),1),t[9]||(t[9]=e("div",{class:"flex items-center gap-2 mb-1"},[e("span",{class:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}," Tag ")],-1))])],8,Se),e("div",Fe,[e("button",{class:"w-8 h-8 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",onClick:C=>M(l.id)},[r(s(oe),{class:"w-4 h-4 text-gray-400"})],8,Be),x.value===l.id?(o(),i("div",$e,[r(s(v),{href:`/settings/tags/${l.id}/edit`,class:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},{default:f(()=>[r(s(de),{class:"w-4 h-4 mr-3"}),t[10]||(t[10]=h(" Edit Tag ",-1))]),_:2,__:[10]},1032,["href"]),e("button",{onClick:C=>D(l),class:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"},[r(s(le),{class:"w-4 h-4 mr-3"}),t[11]||(t[11]=h(" Hapus Tag ",-1))],8,Ee)])):w("",!0)])])],2))),128))])),e("button",{onClick:V,class:"fixed bottom-20 left-6 w-14 h-14 bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-105 active:scale-95"},[r(s(ce),{class:"w-6 h-6 text-white"})]),r(s(v),{href:"/settings/tags/create",title:"Tambah Tag",class:"fixed bottom-20 right-6 w-14 h-14 bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-105 active:scale-95"},{default:f(()=>[r(s(A),{class:"w-6 h-6 text-white"})]),_:1})]),_:1}))}});export{st as default};
