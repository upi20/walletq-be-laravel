import{d as q,m as G,p as Q,z as c,A as W,c as J,h as m,o as l,w as f,f as s,e,a as i,b,u as r,j as X,l as k,k as p,s as S,v as Y,x as Z,F as I,r as ee,g as F,t as j,B as A}from"./app-eirzRowL.js";import{P as K,F as te}from"./FinancialAppLayout-C3C_APRi.js";import{u as ae}from"./useTranslation-CNsFpfZK.js";import{_ as re}from"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-DhqFkVgH.js";import{A as se}from"./arrow-left-Bim3yiv-.js";import{F as _}from"./folder-BaqdED80.js";import{S as oe}from"./search-OClV619c.js";import{C as le}from"./chevron-up-Cm2V7oWz.js";import{C as ne}from"./chevron-down-ULuHaP3Z.js";import{C as ie}from"./check-Bkm7pH5B.js";import{E as de}from"./ellipsis-vertical-rC5wbXFW.js";import{S as ce}from"./square-pen-Cy0GAbai.js";import{T as ue}from"./trash-2-BQ5un-Wr.js";import{F as ge}from"./filter-Di4PTcti.js";import"./useDarkMode-BE6Cm6NZ.js";import"./formatCurrency-6zMsDc4Z.js";import"./createLucideIcon-DyxDjs0G.js";import"./x-C1SIfVNR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./trending-up-pXwcg9Rr.js";import"./settings-CSeBM8Kk.js";import"./sun-COXDyT88.js";const me={class:"mb-1"},fe={class:"flex items-center justify-between mb-4"},pe={class:"flex items-center gap-2"},he={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},xe={class:"flex items-center gap-3 mb-2"},be={class:"w-10 h-10 bg-gradient-to-r from-teal-500 to-coral-500 rounded-xl flex items-center justify-center"},ke={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 mb-6 mt-5"},ve={class:"flex flex-col sm:flex-row gap-4"},ye={class:"flex items-center gap-2"},we={class:"flex items-center bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden"},_e={key:1,class:"text-center py-16"},Ce={class:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6"},Te={key:2,class:"text-center py-12"},Se={key:3,class:"grid grid-cols-1 gap-3 mb-20"},Fe={class:"flex items-start justify-between"},je=["onClick"],Ae={class:"w-8 h-8 bg-gradient-to-r from-teal-100 to-coral-100 dark:from-teal-900 dark:to-coral-900 rounded-md flex items-center justify-center"},Ke={class:"font-semibold text-gray-900 dark:text-white group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors"},Me={class:"flex items-center gap-2 mb-1"},Be={key:0,class:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},Ee={class:"relative"},$e=["onClick"],Ve={key:0,class:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10"},De=["onClick","disabled"],Le={class:"fixed bottom-20 left-1/2 transform -translate-x-1/2 w-full max-w-[640px] px-4 pointer-events-none z-40"},Ne={class:"flex pointer-events-auto justify-between"},ut=q({__name:"Index",props:{categories:{},filters:{}},setup(M){const v=M;ae();const{success:B,error:E,warning:ze,info:Pe}=G(),{confirmDelete:$,confirmAction:He,alert:Ue}=Q(),h=c(null),V=t=>{h.value=h.value===t?null:t},y=c(v.filters.search||""),w=c(!1),D=()=>{w.value=!w.value};let n=null;const L=t=>{if(t.key==="Enter"){n&&(clearTimeout(n),n=null),x();return}n&&clearTimeout(n),n=setTimeout(()=>{x(),n=null},500)};W(()=>{n&&(clearTimeout(n),n=null)});const u=c("name"),d=c("asc"),C=J(()=>Array.isArray(v.categories.data)?v.categories.data.slice():[]),x=()=>{A.get("/settings/account-categories",{search:y.value,sortField:u.value,sortOrder:d.value},{preserveState:!0,preserveScroll:!0,only:["categories"]})},N=t=>{u.value===t?d.value=d.value==="asc"?"desc":"asc":(u.value=t,d.value="asc"),x()},z=async t=>{await $(t.name)&&A.delete(`/settings/account-categories/${t.id}`,{onStart:()=>{},onSuccess:()=>{B("Kategori berhasil dihapus!",{message:`Kategori "${t.name}" telah dihapus dari sistem.`,duration:5e3})},onError:()=>{E("Gagal menghapus kategori",{message:"Terjadi kesalahan saat menghapus kategori. Silakan coba lagi.",persistent:!0})}})};document.addEventListener("click",t=>{t.target.closest(".group")||(h.value=null)});const g=c([]),P=t=>{g.value.includes(t)?g.value=g.value.filter(a=>a!==t):g.value.push(t)},H=t=>g.value.includes(t),U=t=>t?{cash:"Tunai",bank:"Bank","e-wallet":"E-Wallet"}[t]||t:"-",O=t=>t&&{cash:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",bank:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200","e-wallet":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}[t]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";return(t,a)=>(l(),m(te,{showHeader:!1,showFab:!1,containerClass:"px-3 pt-6 pb-32"},{default:f(()=>[s(r(X),{title:"Kategori Rekening"}),e("div",me,[e("div",fe,[s(r(k),{href:"/settings",class:"inline-flex items-center text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 transition-colors"},{default:f(()=>[s(r(se),{class:"w-4 h-4 mr-2"}),a[2]||(a[2]=p(" Kembali ke Pengaturan ",-1))]),_:1,__:[2]}),e("div",pe,[s(re)])]),e("div",he,[e("div",null,[e("div",xe,[e("div",be,[s(r(_),{class:"w-5 h-5 text-white"})]),a[3]||(a[3]=e("div",null,[e("h1",{class:"text-1xl font-bold bg-gradient-to-r from-teal-600 to-coral-600 bg-clip-text text-transparent"}," Kategori Rekening "),e("h3",{class:"text-xs"}," Kelola kategori untuk mengorganisir rekening Anda ")],-1))])])])]),w.value?(l(),i("div",ke,[e("div",ve,[e("form",{class:"relative flex-1",onSubmit:S(x,["prevent"])},[s(r(oe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),Y(e("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>y.value=o),type:"search",placeholder:"Cari kategori rekening...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent",onKeyup:L},null,544),[[Z,y.value]])],32),e("div",ye,[e("div",we,[e("button",{onClick:a[1]||(a[1]=S(o=>N("name"),["prevent"])),class:"px-3 py-2 text-sm flex items-center gap-2"},[a[4]||(a[4]=p(" Nama ",-1)),u.value==="name"&&d.value==="asc"?(l(),m(r(le),{key:0,class:"w-4 h-4"})):u.value==="name"&&d.value==="desc"?(l(),m(r(ne),{key:1,class:"w-4 h-4"})):b("",!0)])])])])])):b("",!0),t.categories.data.length===0?(l(),i("div",_e,[e("div",Ce,[s(r(_),{class:"w-12 h-12 text-gray-400"})]),a[6]||(a[6]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},"Belum ada kategori rekening",-1)),a[7]||(a[7]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6"},"Mulai dengan menambahkan kategori rekening pertama Anda",-1)),s(r(k),{href:"/settings/account-categories/create",class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-coral-600 text-white rounded-xl font-medium hover:from-teal-700 hover:to-coral-700 transition-all duration-200"},{default:f(()=>[s(r(K),{class:"w-5 h-5 mr-2"}),a[5]||(a[5]=p(" Tambah Kategori ",-1))]),_:1,__:[5]})])):C.value.length===0?(l(),i("div",Te,a[8]||(a[8]=[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Tidak ada hasil",-1),e("p",{class:"text-gray-600 dark:text-gray-400"},"Coba ubah kata kunci pencarian Anda",-1)]))):(l(),i("div",Se,[(l(!0),i(I,null,ee(C.value,(o,R)=>(l(),i("div",{key:o.id,class:F(["group rounded-xl p-4 shadow-sm border transition-all duration-300",R%2===0?"bg-white dark:bg-gray-800 border-none hover:shadow-lg hover:shadow-teal-500/10":"bg-teal-50 dark:bg-teal-900/20 border-none hover:shadow-lg hover:shadow-coral-500/10"])},[e("div",Fe,[e("div",{class:"flex items-center gap-3",onClick:T=>P(o.id)},[e("div",Ae,[H(o.id)==!1?(l(),m(r(_),{key:0,class:"w-6 h-6 text-teal-600 dark:text-teal-400"})):(l(),m(r(ie),{key:1,class:"w-6 h-6 text-teal-600 dark:text-teal-400"}))]),e("div",null,[e("h3",Ke,j(o.name),1),e("div",Me,[e("span",{class:F(["text-xs px-2 py-1 rounded-full",O(o.type)])},j(U(o.type)),3),o.is_default?(l(),i("span",Be," Default ")):b("",!0)])])],8,je),e("div",Ee,[e("button",{class:"w-8 h-8 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors",onClick:T=>V(o.id)},[s(r(de),{class:"w-4 h-4 text-gray-400"})],8,$e),h.value===o.id?(l(),i("div",Ve,[s(r(k),{href:`/settings/account-categories/${o.id}/edit`,class:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},{default:f(()=>[s(r(ce),{class:"w-4 h-4 mr-3"}),a[9]||(a[9]=p(" Edit Kategori ",-1))]),_:2,__:[9]},1032,["href"]),e("button",{onClick:T=>z(o),class:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",disabled:o.is_default},[s(r(ue),{class:"w-4 h-4 mr-3"}),a[10]||(a[10]=p(" Hapus Kategori ",-1))],8,De)])):b("",!0)])])],2))),128))])),e("div",Le,[e("div",Ne,[e("button",{onClick:D,class:"w-14 h-14 bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-105 active:scale-95"},[s(r(ge),{class:"w-6 h-6 text-white"})]),s(r(k),{href:"/settings/account-categories/create",class:"w-14 h-14 bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-105 active:scale-95"},{default:f(()=>[s(r(K),{class:"w-6 h-6 text-white"})]),_:1})])])]),_:1}))}});export{ut as default};
