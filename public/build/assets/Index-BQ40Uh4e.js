import{d as W,m as X,p as Y,z as p,A as Z,c as L,h as f,o,w as x,f as a,e as t,a as u,b,u as e,j as ee,l as k,k as h,t as l,F as E,s as S,v as te,x as se,r as ae,g as re,B as T}from"./app-DiUTJyO5.js";import{P as N,F as oe}from"./FinancialAppLayout-CFa_U7sL.js";import{f as A}from"./formatCurrency-6zMsDc4Z.js";import{u as le}from"./useTranslation-VILxPNR3.js";import{_ as ne}from"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-cQWZngxx.js";import{A as ie}from"./arrow-left-B1dTIe6p.js";import{C as j}from"./credit-card-Camh_JO7.js";import{c as ce}from"./createLucideIcon-Q3JMls56.js";import{S as de}from"./search-F4d95sN1.js";import{C as R}from"./chevron-up-C7rwl1J7.js";import{C as V}from"./chevron-down-L7Q_gKco.js";import{C as ue}from"./check-DDuWd8rr.js";import{E as he}from"./ellipsis-vertical-DBawm8Nm.js";import{S as me}from"./square-pen-gHxo-iyD.js";import{T as ge}from"./trash-2-C2gTCJZc.js";import{F as fe}from"./filter-Bh6vZ4AA.js";import"./useDarkMode-CxWBGi-X.js";import"./x-BZ8hJlM6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./trending-up-7awjo4lm.js";import"./settings-m4fMQXqo.js";import"./sun-BkabMr88.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=ce("RefreshCcwIcon",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),ve={class:"mb-1"},xe={class:"flex items-center justify-between mb-4"},be={class:"flex items-center gap-2"},ye={class:"flex items-center justify-between gap-4"},_e={class:"flex items-center gap-3 mb-2"},ke={class:"w-10 h-10 bg-gradient-to-r from-teal-500 to-coral-500 rounded-xl flex items-center justify-center"},we={class:"text-xs"},Ce={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 mb-6 mt-5"},Se={class:"flex flex-col sm:flex-row gap-4"},Te=["placeholder"],Ae={class:"flex items-center gap-2"},je={class:"flex items-center bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden"},Fe={key:1,class:"text-center py-16"},Be={class:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6"},Me={class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},$e={class:"text-gray-600 dark:text-gray-400 mb-6"},Le={key:2,class:"text-center py-12"},Ee={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},Ne={class:"text-gray-600 dark:text-gray-400"},Re={key:3,class:"grid grid-cols-1 gap-1 mb-20"},Ve={class:"flex items-start justify-between"},De=["onClick"],ze={class:"ms-2 w-8 h-8 bg-gradient-to-r from-teal-100 to-coral-100 dark:from-teal-900 dark:to-coral-900 rounded-md flex items-center justify-center"},Pe={class:"font-semibold text-gray-900 dark:text-white group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors"},Ue={class:"flex items-center gap-2 mb-1"},qe={class:"text-xs text-teal-700"},He={class:"relative"},Ke=["onClick"],Oe={key:0,class:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10"},Ge=["onClick"],bt=W({__name:"Index",props:{accounts:{},categories:{},filters:{},totalBalance:{}},setup(D){const v=D,{trans:n}=le(),{success:F,error:z,warning:Ie,info:Qe}=X(),{confirmDelete:P,confirmAction:Je,alert:We}=Y(),y=p(null),U=s=>{y.value=y.value===s?null:s},w=p(v.filters.search||""),C=p(!1),q=()=>{C.value=!C.value};let c=null;const H=s=>{if(s.key==="Enter"){c&&(clearTimeout(c),c=null),_();return}c&&clearTimeout(c),c=setTimeout(()=>{_(),c=null},500)};Z(()=>{c&&(clearTimeout(c),c=null)});const m=p("name"),d=p("asc"),B=L(()=>Array.isArray(v.accounts)?v.accounts.slice():[]),_=()=>{T.get("/settings/accounts",{search:w.value,sortField:m.value,sortOrder:d.value},{preserveState:!0,preserveScroll:!0,only:["accounts"]})},M=s=>{m.value===s?d.value=d.value==="asc"?"desc":"asc":(m.value=s,d.value="asc"),_()},K=async s=>{await P(s.name)&&T.delete(`/settings/accounts/${s.id}`,{onStart:()=>{},onSuccess:()=>{F("Rekening berhasil dihapus!",{message:`Rekening "${s.name}" telah dihapus dari sistem.`,duration:5e3})},onError:()=>{z("Gagal menghapus rekening",{message:"Terjadi kesalahan saat menghapus rekening. Silakan coba lagi.",persistent:!0})}})};document.addEventListener("click",s=>{s.target.closest(".group")||(y.value=null)});const g=p([]),O=s=>{g.value.includes(s)?g.value=g.value.filter(r=>r!==s):g.value.push(s)},G=s=>g.value.includes(s),I=L(()=>v.accounts.filter(s=>g.value.includes(s.id)).reduce((s,r)=>Number(s)+Number(r.current_balance),0)),Q=()=>{F("Rekening berhasil direfresh!",{message:"Rekening berhasil direfresh.",duration:5e3}),T.get("/settings/accounts/refresh")};return(s,r)=>(o(),f(oe,{showHeader:!1,showFab:!1,containerClass:"px-3 pt-6 pb-32"},{default:x(()=>[a(e(ee),{title:e(n)("accounts.title")},null,8,["title"]),t("div",ve,[t("div",xe,[a(e(k),{href:"/settings",class:"inline-flex items-center text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 transition-colors"},{default:x(()=>[a(e(ie),{class:"w-4 h-4 mr-2"}),h(" "+l(e(n)("settings.back_to_settings")),1)]),_:1}),t("div",be,[a(ne),r[3]||(r[3]=t("div",{class:"flex gap-2"},null,-1))])]),t("div",ye,[t("div",null,[t("div",_e,[t("div",ke,[a(e(j),{class:"w-5 h-5 text-white"})]),t("div",null,[r[4]||(r[4]=t("h1",{class:"text-1xl font-bold bg-gradient-to-r from-teal-600 to-coral-600 bg-clip-text text-transparent"}," Total Saldo ",-1)),t("h3",we,[h(l(e(A)(v.totalBalance))+" ",1),g.value.length>0?(o(),u(E,{key:0},[h(" | Dipilih : "+l(e(A)(I.value)),1)],64)):b("",!0)])])])]),t("button",{onClick:Q,class:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors"},[a(e(pe),{class:"w-4 h-4"})])])]),C.value?(o(),u("div",Ce,[t("div",Se,[t("form",{class:"relative flex-1",onSubmit:S(_,["prevent"])},[a(e(de),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),te(t("input",{"onUpdate:modelValue":r[0]||(r[0]=i=>w.value=i),type:"search",placeholder:e(n)("accounts.search_placeholder"),class:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-teal-500 focus:border-transparent",onKeyup:H},null,40,Te),[[se,w.value]])],32),t("div",Ae,[t("div",je,[t("button",{onClick:r[1]||(r[1]=S(i=>M("name"),["prevent"])),class:"px-3 py-2 text-sm flex items-center gap-2"},[h(l(e(n)("common.name"))+" ",1),m.value==="name"&&d.value==="asc"?(o(),f(e(R),{key:0,class:"w-4 h-4"})):m.value==="name"&&d.value==="desc"?(o(),f(e(V),{key:1,class:"w-4 h-4"})):b("",!0)]),t("button",{onClick:r[2]||(r[2]=S(i=>M("current_balance"),["prevent"])),class:"px-3 py-2 text-sm flex items-center gap-2 border-l border-gray-200 dark:border-gray-700"},[h(l(e(n)("accounts.balance"))+" ",1),m.value==="current_balance"&&d.value==="asc"?(o(),f(e(R),{key:0,class:"w-4 h-4"})):m.value==="current_balance"&&d.value==="desc"?(o(),f(e(V),{key:1,class:"w-4 h-4"})):b("",!0)])])])])])):b("",!0),s.accounts.length===0?(o(),u("div",Fe,[t("div",Be,[a(e(j),{class:"w-12 h-12 text-gray-400"})]),t("h3",Me,l(e(n)("accounts.no_accounts")),1),t("p",$e,l(e(n)("accounts.no_accounts_subtitle")),1),a(e(k),{href:"/settings/accounts/create",class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-teal-600 to-coral-600 text-white rounded-xl font-medium hover:from-teal-700 hover:to-coral-700 transition-all duration-200"},{default:x(()=>[a(e(N),{class:"w-5 h-5 mr-2"}),h(" "+l(e(n)("accounts.create_account")),1)]),_:1})])):B.value.length===0?(o(),u("div",Le,[t("h3",Ee,l(e(n)("accounts.no_results")),1),t("p",Ne,l(e(n)("accounts.no_results_subtitle")),1)])):(o(),u("div",Re,[(o(!0),u(E,null,ae(B.value,(i,J)=>(o(),u("div",{key:i.id,class:re(["group rounded-md p-0 shadow-sm border transition-all duration-300",J%2===0?"bg-white dark:bg-gray-800 border-none hover:shadow-lg hover:shadow-teal-500/10":"bg-teal-50 dark:bg-teal-900/20 border-none hover:shadow-lg hover:shadow-coral-500/10"])},[t("div",Ve,[t("div",{class:"flex items-center gap-3",onClick:$=>O(i.id)},[t("div",ze,[G(i.id)==!1?(o(),f(e(j),{key:0,class:"w-6 h-6 text-teal-600 dark:text-teal-400"})):(o(),f(e(ue),{key:1,class:"w-6 h-6 text-teal-600 dark:text-teal-400"}))]),t("div",null,[t("h3",Pe,l(i.name),1),t("div",Ue,[t("span",qe,l(e(A)(i.current_balance)),1)])])],8,De),t("div",He,[t("button",{class:"w-8 h-8 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors mt-1",onClick:$=>U(i.id)},[a(e(he),{class:"w-4 h-4 text-gray-400"})],8,Ke),y.value===i.id?(o(),u("div",Oe,[a(e(k),{href:`/settings/accounts/${i.id}/edit`,class:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},{default:x(()=>[a(e(me),{class:"w-4 h-4 mr-3"}),h(" "+l(e(n)("accounts.edit_account")),1)]),_:2},1032,["href"]),t("button",{onClick:$=>K(i),class:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"},[a(e(ge),{class:"w-4 h-4 mr-3"}),h(" "+l(e(n)("accounts.delete_account")),1)],8,Ge)])):b("",!0)])])],2))),128))])),t("button",{onClick:q,class:"fixed bottom-20 left-6 w-14 h-14 bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-105 active:scale-95"},[a(e(fe),{class:"w-6 h-6 text-white"})]),a(e(k),{href:"/settings/accounts/create",title:e(n)("accounts.add_account"),class:"fixed bottom-20 right-6 w-14 h-14 bg-gradient-to-r from-teal-500 to-teal-600 dark:from-teal-600 dark:to-teal-700 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-105 active:scale-95"},{default:x(()=>[a(e(N),{class:"w-6 h-6 text-white"})]),_:1},8,["title"])]),_:1}))}});export{bt as default};
