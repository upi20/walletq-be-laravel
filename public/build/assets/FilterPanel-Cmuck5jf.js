import{d as S,z as A,c as R,P as B,a as o,o as l,e,f as n,u as i,k as u,v as g,x,y as p,F as m,r as y,t as d,b as N,g as $}from"./app-DiUTJyO5.js";import{F as j}from"./filter-Bh6vZ4AA.js";import{R as O}from"./rotate-ccw-Cmpu7sHT.js";import{X as z}from"./x-BZ8hJlM6.js";import{C as E}from"./calendar-DmKfoy3u.js";import{C as I}from"./credit-card-Camh_JO7.js";import{F as J}from"./folder-open-ZO-SRk8D.js";import{T as K}from"./tag-CD8BehX9.js";import{D as L}from"./dollar-sign-eEgsWLBc.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-Q3JMls56.js";const q={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg mx-4"},G={class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"},H={class:"flex items-center gap-2"},Q={class:"flex items-center gap-1"},W={class:"p-4 space-y-5 max-h-[70vh] overflow-y-auto"},Y={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},Z={class:"space-y-3"},ee=["value"],te={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},re={class:"max-h-36 overflow-y-auto space-y-1 border border-gray-200 dark:border-gray-700 rounded-xl p-3"},ae=["checked","onChange"],se={class:"flex-1 min-w-0"},oe={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},le={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},de={key:0,class:"ml-1"},ne={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},ie={class:"max-h-40 overflow-y-auto space-y-2 border border-gray-200 dark:border-gray-700 rounded-lg p-3"},ge=["checked","onChange"],ue={class:"text-sm text-gray-900 dark:text-white"},me={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},ye={class:"max-h-32 overflow-y-auto space-y-2 border border-gray-200 dark:border-gray-700 rounded-lg p-3"},ce=["checked","onChange"],be={class:"text-sm text-gray-900 dark:text-white"},xe={class:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},pe={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},ke={class:"grid grid-cols-1 sm:grid-cols-2 gap-2"},ve=["checked","onChange"],fe={class:"text-sm text-gray-900 dark:text-white"},he={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},_e=["value"],we=["value"],Ce={class:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 space-y-3"},Fe=["disabled"],De=S({__name:"FilterPanel",props:{filters:{},masterData:{},loading:{type:Boolean}},emits:["applyFilters","clearFilters","close"],setup(w,{emit:C}){const c=w,k=C,a=A({...c.filters}),F=R(()=>a.value.type==="income"?c.masterData.income_categories:a.value.type==="expense"?c.masterData.expense_categories:[...c.masterData.income_categories,...c.masterData.expense_categories]),v=(s,r)=>{const t=s||[];return t.indexOf(r)>-1?t.filter(f=>f!==r):[...t,r]},D=(s,r)=>{const t=s||[];return t.indexOf(r)>-1?t.filter(f=>f!==r):[...t,r]},V=s=>{a.value.account_ids=v(a.value.account_ids,s)},T=s=>{a.value.category_ids=v(a.value.category_ids,s)},U=s=>{a.value.tag_ids=v(a.value.tag_ids,s)},M=s=>{a.value.flags=D(a.value.flags,s)},P=()=>{k("applyFilters",{...a.value})},h=()=>{k("clearFilters")},_=()=>{k("close")};return B(()=>a.value.type,()=>{a.value.category_ids=[]}),(s,r)=>(l(),o("div",q,[e("div",G,[e("div",H,[n(i(j),{class:"w-5 h-5 text-teal-600 dark:text-teal-400"}),r[8]||(r[8]=e("h3",{class:"text-base font-semibold text-gray-900 dark:text-white"},"Filter Transaksi",-1))]),e("div",Q,[e("button",{onClick:h,class:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200 min-w-[44px] min-h-[44px] flex items-center justify-center",title:"Reset filter"},[n(i(O),{class:"w-4 h-4"})]),e("button",{onClick:_,class:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200 min-w-[44px] min-h-[44px] flex items-center justify-center"},[n(i(z),{class:"w-4 h-4"})])])]),e("div",W,[e("div",null,[e("label",Y,[n(i(E),{class:"w-4 h-4"}),r[9]||(r[9]=u(" Rentang Tanggal ",-1))]),e("div",Z,[e("div",null,[r[10]||(r[10]=e("label",{class:"text-xs text-gray-500 dark:text-gray-400 block mb-1"},"Dari",-1)),g(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>a.value.date_from=t),type:"date",class:"w-full px-3 py-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"},null,512),[[x,a.value.date_from]])]),e("div",null,[r[11]||(r[11]=e("label",{class:"text-xs text-gray-500 dark:text-gray-400 block mb-1"},"Sampai",-1)),g(e("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>a.value.date_to=t),type:"date",class:"w-full px-3 py-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"},null,512),[[x,a.value.date_to]])])])]),e("div",null,[r[12]||(r[12]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 block"}," Tipe Transaksi ",-1)),g(e("select",{"onUpdate:modelValue":r[2]||(r[2]=t=>a.value.type=t),class:"w-full px-3 py-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"},[(l(!0),o(m,null,y(s.masterData.type_options,t=>(l(),o("option",{key:t.value,value:t.value},d(t.label),9,ee))),128))],512),[[p,a.value.type]])]),e("div",null,[e("label",te,[n(i(I),{class:"w-4 h-4"}),r[13]||(r[13]=u(" Akun ",-1))]),e("div",re,[(l(!0),o(m,null,y(s.masterData.accounts,t=>(l(),o("label",{key:t.id,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-3 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.account_ids?.includes(t.id),onChange:b=>V(t.id),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500 flex-shrink-0"},null,40,ae),e("div",se,[e("div",oe,d(t.name),1),e("div",le,[u(d(t.formatted_balance)+" ",1),t.category?(l(),o("span",de,"â€¢ "+d(t.category.name),1)):N("",!0)])])]))),128))])]),e("div",null,[e("label",ne,[n(i(J),{class:"w-4 h-4"}),r[14]||(r[14]=u(" Kategori ",-1))]),e("div",ie,[(l(!0),o(m,null,y(F.value,t=>(l(),o("label",{key:t.id,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.category_ids?.includes(t.id),onChange:b=>T(t.id),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500"},null,40,ge),e("div",ue,[u(d(t.name)+" ",1),e("span",{class:$(["ml-2 text-xs px-2 py-1 rounded-full",t.type==="income"?"bg-teal-100 text-teal-700 dark:bg-teal-900 dark:text-teal-300":"bg-coral-100 text-coral-700 dark:bg-coral-900 dark:text-coral-300"])},d(t.type==="income"?"Pemasukan":"Pengeluaran"),3)])]))),128))])]),e("div",null,[e("label",me,[n(i(K),{class:"w-4 h-4"}),r[15]||(r[15]=u(" Tag ",-1))]),e("div",ye,[(l(!0),o(m,null,y(s.masterData.tags,t=>(l(),o("label",{key:t.id,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.tag_ids?.includes(t.id),onChange:b=>U(t.id),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500"},null,40,ce),e("span",be,d(t.name),1)]))),128))])]),e("div",null,[e("label",xe,[n(i(L),{class:"w-4 h-4"}),r[16]||(r[16]=u(" Rentang Jumlah ",-1))]),e("div",pe,[e("div",null,[r[17]||(r[17]=e("label",{class:"text-xs text-gray-500 dark:text-gray-400"},"Minimal",-1)),g(e("input",{"onUpdate:modelValue":r[3]||(r[3]=t=>a.value.amount_min=t),type:"number",min:"0",step:"1000",placeholder:"0",class:"w-full mt-1 px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},null,512),[[x,a.value.amount_min,void 0,{number:!0}]])]),e("div",null,[r[18]||(r[18]=e("label",{class:"text-xs text-gray-500 dark:text-gray-400"},"Maksimal",-1)),g(e("input",{"onUpdate:modelValue":r[4]||(r[4]=t=>a.value.amount_max=t),type:"number",min:"0",step:"1000",placeholder:"Tidak terbatas",class:"w-full mt-1 px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},null,512),[[x,a.value.amount_max,void 0,{number:!0}]])])])]),e("div",null,[r[19]||(r[19]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 block"}," Status Transaksi ",-1)),e("div",ke,[(l(!0),o(m,null,y(s.masterData.flag_options,t=>(l(),o("label",{key:t.value,class:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors duration-200"},[e("input",{type:"checkbox",checked:a.value.flags?.includes(t.value),onChange:b=>M(t.value),class:"text-teal-600 border-gray-300 rounded focus:ring-teal-500"},null,40,ve),e("span",fe,d(t.label),1)]))),128))])]),e("div",he,[e("div",null,[r[20]||(r[20]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block"}," Urutkan berdasarkan ",-1)),g(e("select",{"onUpdate:modelValue":r[5]||(r[5]=t=>a.value.sort_by=t),class:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},[(l(!0),o(m,null,y(s.masterData.sort_options,t=>(l(),o("option",{key:t.value,value:t.value},d(t.label),9,_e))),128))],512),[[p,a.value.sort_by]])]),e("div",null,[r[22]||(r[22]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block"}," Urutan ",-1)),g(e("select",{"onUpdate:modelValue":r[6]||(r[6]=t=>a.value.sort_order=t),class:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},r[21]||(r[21]=[e("option",{value:"desc"},"Menurun",-1),e("option",{value:"asc"},"Menaik",-1)]),512),[[p,a.value.sort_order]])]),e("div",null,[r[23]||(r[23]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block"}," Per halaman ",-1)),g(e("select",{"onUpdate:modelValue":r[7]||(r[7]=t=>a.value.per_page=t),class:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 focus:border-transparent"},[(l(!0),o(m,null,y(s.masterData.per_page_options,t=>(l(),o("option",{key:t.value,value:t.value},d(t.label),9,we))),128))],512),[[p,a.value.per_page,void 0,{number:!0}]])])])]),e("div",Ce,[e("div",{class:"flex gap-3"},[e("button",{onClick:h,class:"flex-1 py-3 border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200 font-medium text-sm"}," Reset Semua "),e("button",{onClick:_,class:"flex-1 py-3 border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200 font-medium text-sm"}," Batal ")]),e("button",{onClick:P,disabled:s.loading,class:"w-full py-3 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-xl hover:from-teal-600 hover:to-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium text-sm"},d(s.loading?"Memuat...":"Terapkan Filter"),9,Fe)])]))}}),je=X(De,[["__scopeId","data-v-1408361c"]]);export{je as default};
